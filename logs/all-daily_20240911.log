2024-09-11 06:11:17.582 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-11 06:11:17.643 +07:00 [DBG] Hosting starting
2024-09-11 06:11:17.665 +07:00 [INF] Now listening on: http://localhost:5245
2024-09-11 06:11:17.665 +07:00 [DBG] Loaded hosting startup assembly BaseDotnet
2024-09-11 06:11:17.666 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-11 06:11:17.666 +07:00 [INF] Hosting environment: Development
2024-09-11 06:11:17.666 +07:00 [INF] Content root path: /Users/reihanrenaldi/Documents/ReihanSigma/projects/DOTNET/BaseDotnet
2024-09-11 06:11:17.666 +07:00 [DBG] Hosting started
2024-09-11 06:14:53.797 +07:00 [DBG] Connection id "0HN6HTPGEEQOH" accepted.
2024-09-11 06:14:53.799 +07:00 [DBG] Connection id "0HN6HTPGEEQOH" started.
2024-09-11 06:14:53.817 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/auth/login - null null
2024-09-11 06:14:53.819 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-11 06:14:53.832 +07:00 [DBG] 1 candidate(s) found for the request path '/auth/login'
2024-09-11 06:14:53.834 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 06:14:53.844 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 06:14:53.845 +07:00 [WRN] Failed to determine the https port for redirect.
2024-09-11 06:14:53.848 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 06:14:53.848 +07:00 [INF] CORS policy execution successful.
2024-09-11 06:14:53.849 +07:00 [DBG] The request is a preflight request.
2024-09-11 06:14:53.852 +07:00 [DBG] Connection id "0HN6HTPGEEQOH" completed keep alive response.
2024-09-11 06:14:53.853 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/auth/login - 204 null null 36.3862ms
2024-09-11 06:14:53.858 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5245/auth/login - application/json 49
2024-09-11 06:14:53.860 +07:00 [DBG] 1 candidate(s) found for the request path '/auth/login'
2024-09-11 06:14:53.862 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)' with route pattern 'Auth/login' is valid for the request path '/auth/login'
2024-09-11 06:14:53.862 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)'
2024-09-11 06:14:53.862 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 06:14:53.863 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 06:14:53.863 +07:00 [INF] CORS policy execution successful.
2024-09-11 06:14:53.926 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-11 06:14:53.936 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 06:14:54.214 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 06:14:54.226 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(x => x.UserID.Equals(__id_0))'
2024-09-11 06:14:54.337 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.UserID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedDate (DateTime) Required, 1], [Property: User.DisplayName (string) Required, 2], [Property: User.Email (string) Required, 3], [Property: User.LastLogin (DateTime?), 4], [Property: User.Password (string), 5], [Property: User.RoleID (int) Required, 6], [Property: User.Salt (string), 7], [Property: User.Status (string) Required, 8], [Property: User.UserName (string) Required, 9] }
        SELECT TOP(2) m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
        FROM master.mst_users AS m
        WHERE m.user_id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    BaseDotnet.DbContext.BaseDotnetDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-09-11 06:14:54.350 +07:00 [DBG] Creating DbConnection.
2024-09-11 06:14:54.362 +07:00 [DBG] Created DbConnection. (11ms).
2024-09-11 06:14:54.363 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.414 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.415 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 06:14:54.417 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-11 06:14:54.419 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-11 06:14:54.423 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 06:14:54.452 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 06:14:54.470 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 06:14:54.484 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.487 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 33ms reading results.
2024-09-11 06:14:54.488 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.490 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (1ms).
2024-09-11 06:14:54.491 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)'
2024-09-11 06:14:54.498 +07:00 [INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(BaseDotnet.Models.AuthenticateRequest) on controller BaseDotnet.Controllers.AuthController (BaseDotnet).
2024-09-11 06:14:54.499 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 06:14:54.499 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 06:14:54.499 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 06:14:54.499 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 06:14:54.499 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 06:14:54.500 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.AuthController (BaseDotnet)
2024-09-11 06:14:54.500 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.AuthController (BaseDotnet)
2024-09-11 06:14:54.502 +07:00 [DBG] Attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest' ...
2024-09-11 06:14:54.502 +07:00 [DBG] Attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest' using the name '' in request data ...
2024-09-11 06:14:54.503 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 06:14:54.509 +07:00 [DBG] Connection id "0HN6HTPGEEQOH", Request id "0HN6HTPGEEQOH:00000002": started reading request body.
2024-09-11 06:14:54.509 +07:00 [DBG] Connection id "0HN6HTPGEEQOH", Request id "0HN6HTPGEEQOH:00000002": done reading request body.
2024-09-11 06:14:54.511 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BaseDotnet.Models.AuthenticateRequest'
2024-09-11 06:14:54.511 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest'.
2024-09-11 06:14:54.511 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest'.
2024-09-11 06:14:54.511 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest' ...
2024-09-11 06:14:54.513 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest'.
2024-09-11 06:14:54.517 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(x => x.Email.Equals(__model_Email_0))'
2024-09-11 06:14:54.521 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.UserID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedDate (DateTime) Required, 1], [Property: User.DisplayName (string) Required, 2], [Property: User.Email (string) Required, 3], [Property: User.LastLogin (DateTime?), 4], [Property: User.Password (string), 5], [Property: User.RoleID (int) Required, 6], [Property: User.Salt (string), 7], [Property: User.Status (string) Required, 8], [Property: User.UserName (string) Required, 9] }
        SELECT TOP(2) m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
        FROM master.mst_users AS m
        WHERE m.email == @__model_Email_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    BaseDotnet.DbContext.BaseDotnetDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-09-11 06:14:54.521 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.522 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.522 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 06:14:54.522 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 06:14:54.522 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 06:14:54.522 +07:00 [DBG] Executing DbCommand [Parameters=[@__model_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.email = @__model_Email_0
LIMIT 2
2024-09-11 06:14:54.525 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__model_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.email = @__model_Email_0
LIMIT 2
2024-09-11 06:14:54.526 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.526 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 06:14:54.526 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.526 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 06:14:54.535 +07:00 [DBG] An entity of type 'User' tracked by 'BaseDotnetDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 06:14:54.536 +07:00 [DBG] SaveChanges starting for 'BaseDotnetDbContext'.
2024-09-11 06:14:54.536 +07:00 [DBG] DetectChanges starting for 'BaseDotnetDbContext'.
2024-09-11 06:14:54.540 +07:00 [DBG] DetectChanges completed for 'BaseDotnetDbContext'.
2024-09-11 06:14:54.562 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.562 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.563 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 06:14:54.563 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 06:14:54.563 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 06:14:54.563 +07:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE master.mst_users SET created_date = @p0, display_name = @p1, email = @p2, last_login = @p3, password = @p4, role_id = @p5, salt = @p6, status = @p7, username = @p8
WHERE user_id = @p9;
2024-09-11 06:14:54.566 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE master.mst_users SET created_date = @p0, display_name = @p1, email = @p2, last_login = @p3, password = @p4, role_id = @p5, salt = @p6, status = @p7, username = @p8
WHERE user_id = @p9;
2024-09-11 06:14:54.567 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.568 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2024-09-11 06:14:54.568 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.568 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 06:14:54.569 +07:00 [DBG] An entity of type 'User' tracked by 'BaseDotnetDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 06:14:54.570 +07:00 [DBG] SaveChanges completed for 'BaseDotnetDbContext' with 1 entities written to the database.
2024-09-11 06:14:54.571 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.571 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.571 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 06:14:54.571 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 06:14:54.571 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 06:14:54.571 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 06:14:54.572 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 06:14:54.572 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.572 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 06:14:54.572 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.572 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 06:14:54.574 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .SingleOrDefault(x => x.RoleID.Equals(__id_0))'
2024-09-11 06:14:54.576 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Role>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.RoleID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.RoleName (string) Required, 1] }
        SELECT TOP(2) m.role_id, m.role_name
        FROM master.mst_role AS m
        WHERE m.role_id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
    BaseDotnet.DbContext.BaseDotnetDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-09-11 06:14:54.576 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.576 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.576 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 06:14:54.576 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 06:14:54.576 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 06:14:54.576 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.role_id, m.role_name
FROM master.mst_role AS m
WHERE m.role_id = @__id_0
LIMIT 2
2024-09-11 06:14:54.579 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.role_id, m.role_name
FROM master.mst_role AS m
WHERE m.role_id = @__id_0
LIMIT 2
2024-09-11 06:14:54.581 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 06:14:54.582 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.582 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2024-09-11 06:14:54.582 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.582 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 06:14:54.584 +07:00 [DBG] Compiling query expression: 
'DbSet<RolePageAccess>()
    .Where(m => m.RoleID == __roleId_0)'
2024-09-11 06:14:54.588 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<RolePageAccess>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: RolePageAccess.PageCode (string) Required PK AfterSave:Throw, 0], [Property: RolePageAccess.Action (string) Required PK AfterSave:Throw, 1], [Property: RolePageAccess.RoleID (int) Required PK AfterSave:Throw, 2] }
        SELECT m.page_code, m.action, m.role_id
        FROM master.mst_role_page_access AS m
        WHERE m.role_id == @__roleId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, RolePageAccess>, 
    BaseDotnet.DbContext.BaseDotnetDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 06:14:54.588 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.588 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.588 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 06:14:54.588 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 06:14:54.588 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 06:14:54.588 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0
2024-09-11 06:14:54.590 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0
2024-09-11 06:14:54.594 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 06:14:54.597 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 06:14:54.597 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 06:14:54.597 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 06:14:54.597 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.597 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 7ms reading results.
2024-09-11 06:14:54.597 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.597 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 06:14:54.630 +07:00 [INF] LOGIN USER {"RoleID":1,"RoleName":"Admin","AccessList":[{"PageCode":"MasterRole","Action":"Create,Read,Update,Delete","RoleID":1},{"PageCode":"MasterUser","Action":"Create,Read,Update,Delete","RoleID":1},{"PageCode":"MasterProductCategory","Action":"Create,Read,Update,Delete","RoleID":1},{"PageCode":"MasterOffice","Action":"Create,Read,Update,Delete","RoleID":1}],"PageList":null}
2024-09-11 06:14:54.631 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 06:14:54.632 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 06:14:54.632 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 06:14:54.632 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 06:14:54.632 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 06:14:54.632 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-11 06:14:54.653 +07:00 [INF] Executed action BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet) in 152.2918ms
2024-09-11 06:14:54.653 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)'
2024-09-11 06:14:54.653 +07:00 [DBG] Connection id "0HN6HTPGEEQOH" completed keep alive response.
2024-09-11 06:14:54.655 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 06:14:54.658 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 06:14:54.661 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (3ms).
2024-09-11 06:14:54.662 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5245/auth/login - 200 null application/json; charset=utf-8 804.1364ms
2024-09-11 06:17:05.007 +07:00 [DBG] Connection id "0HN6HTPGEEQOH" disconnecting.
2024-09-11 06:17:05.011 +07:00 [DBG] Connection id "0HN6HTPGEEQOH" stopped.
2024-09-11 06:17:05.013 +07:00 [DBG] Connection id "0HN6HTPGEEQOH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 07:17:36.494 +07:00 [DBG] Connection id "0HN6HTPGEEQOI" accepted.
2024-09-11 07:17:36.496 +07:00 [DBG] Connection id "0HN6HTPGEEQOI" started.
2024-09-11 07:17:36.501 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/auth/login - null null
2024-09-11 07:17:36.502 +07:00 [DBG] 1 candidate(s) found for the request path '/auth/login'
2024-09-11 07:17:36.503 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 07:17:36.507 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 07:17:36.512 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 07:17:36.513 +07:00 [INF] CORS policy execution successful.
2024-09-11 07:17:36.513 +07:00 [DBG] The request is a preflight request.
2024-09-11 07:17:36.515 +07:00 [DBG] Connection id "0HN6HTPGEEQOI" completed keep alive response.
2024-09-11 07:17:36.515 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/auth/login - 204 null null 14.2334ms
2024-09-11 07:17:36.521 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5245/auth/login - application/json 49
2024-09-11 07:17:36.521 +07:00 [DBG] 1 candidate(s) found for the request path '/auth/login'
2024-09-11 07:17:36.522 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)' with route pattern 'Auth/login' is valid for the request path '/auth/login'
2024-09-11 07:17:36.523 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)'
2024-09-11 07:17:36.523 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 07:17:36.523 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 07:17:36.524 +07:00 [INF] CORS policy execution successful.
2024-09-11 07:17:36.528 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 07:17:36.549 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 07:17:36.551 +07:00 [DBG] Creating DbConnection.
2024-09-11 07:17:36.552 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 07:17:36.552 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:17:36.557 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:17:36.557 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 07:17:36.557 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:17:36.557 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:17:36.558 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 07:17:36.561 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 07:17:36.562 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 07:17:36.563 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:17:36.563 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2024-09-11 07:17:36.563 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:17:36.563 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:17:36.563 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)'
2024-09-11 07:17:36.566 +07:00 [INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(BaseDotnet.Models.AuthenticateRequest) on controller BaseDotnet.Controllers.AuthController (BaseDotnet).
2024-09-11 07:17:36.566 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 07:17:36.566 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 07:17:36.566 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 07:17:36.567 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 07:17:36.567 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 07:17:36.567 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.AuthController (BaseDotnet)
2024-09-11 07:17:36.567 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.AuthController (BaseDotnet)
2024-09-11 07:17:36.568 +07:00 [DBG] Attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest' ...
2024-09-11 07:17:36.569 +07:00 [DBG] Attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest' using the name '' in request data ...
2024-09-11 07:17:36.569 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 07:17:36.570 +07:00 [DBG] Connection id "0HN6HTPGEEQOI", Request id "0HN6HTPGEEQOI:00000002": started reading request body.
2024-09-11 07:17:36.571 +07:00 [DBG] Connection id "0HN6HTPGEEQOI", Request id "0HN6HTPGEEQOI:00000002": done reading request body.
2024-09-11 07:17:36.571 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BaseDotnet.Models.AuthenticateRequest'
2024-09-11 07:17:36.571 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest'.
2024-09-11 07:17:36.571 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest'.
2024-09-11 07:17:36.571 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest' ...
2024-09-11 07:17:36.571 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest'.
2024-09-11 07:17:36.572 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:17:36.572 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:17:36.572 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 07:17:36.572 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:17:36.572 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:17:36.573 +07:00 [DBG] Executing DbCommand [Parameters=[@__model_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.email = @__model_Email_0
LIMIT 2
2024-09-11 07:17:36.575 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__model_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.email = @__model_Email_0
LIMIT 2
2024-09-11 07:17:36.575 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:17:36.575 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 07:17:36.575 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:17:36.575 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:17:36.576 +07:00 [ERR] Auth Email or password is incorrect
2024-09-11 07:17:36.578 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 07:17:36.578 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 07:17:36.578 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 07:17:36.578 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 07:17:36.578 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 07:17:36.579 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-11 07:17:36.585 +07:00 [INF] Executed action BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet) in 18.3255ms
2024-09-11 07:17:36.585 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)'
2024-09-11 07:17:36.585 +07:00 [DBG] Connection id "0HN6HTPGEEQOI" completed keep alive response.
2024-09-11 07:17:36.586 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 07:17:36.586 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:17:36.586 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:17:36.586 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5245/auth/login - 400 null application/json; charset=utf-8 65.302ms
2024-09-11 07:17:49.261 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/auth/login - null null
2024-09-11 07:17:49.262 +07:00 [DBG] 1 candidate(s) found for the request path '/auth/login'
2024-09-11 07:17:49.262 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 07:17:49.263 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 07:17:49.263 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 07:17:49.263 +07:00 [INF] CORS policy execution successful.
2024-09-11 07:17:49.264 +07:00 [DBG] The request is a preflight request.
2024-09-11 07:17:49.264 +07:00 [DBG] Connection id "0HN6HTPGEEQOI" completed keep alive response.
2024-09-11 07:17:49.264 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/auth/login - 204 null null 3.2968ms
2024-09-11 07:17:49.268 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5245/auth/login - application/json 49
2024-09-11 07:17:49.269 +07:00 [DBG] 1 candidate(s) found for the request path '/auth/login'
2024-09-11 07:17:49.269 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)' with route pattern 'Auth/login' is valid for the request path '/auth/login'
2024-09-11 07:17:49.269 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)'
2024-09-11 07:17:49.269 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 07:17:49.269 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 07:17:49.270 +07:00 [INF] CORS policy execution successful.
2024-09-11 07:17:49.271 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 07:17:49.320 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 07:17:49.321 +07:00 [DBG] Creating DbConnection.
2024-09-11 07:17:49.321 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 07:17:49.321 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:17:49.321 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:17:49.322 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 07:17:49.322 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:17:49.322 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:17:49.322 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 07:17:49.324 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 07:17:49.324 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 07:17:49.324 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:17:49.325 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 07:17:49.325 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:17:49.325 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:17:49.325 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)'
2024-09-11 07:17:49.325 +07:00 [INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(BaseDotnet.Models.AuthenticateRequest) on controller BaseDotnet.Controllers.AuthController (BaseDotnet).
2024-09-11 07:17:49.325 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 07:17:49.325 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 07:17:49.325 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 07:17:49.325 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 07:17:49.326 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 07:17:49.326 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.AuthController (BaseDotnet)
2024-09-11 07:17:49.326 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.AuthController (BaseDotnet)
2024-09-11 07:17:49.326 +07:00 [DBG] Attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest' ...
2024-09-11 07:17:49.326 +07:00 [DBG] Attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest' using the name '' in request data ...
2024-09-11 07:17:49.327 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 07:17:49.327 +07:00 [DBG] Connection id "0HN6HTPGEEQOI", Request id "0HN6HTPGEEQOI:00000004": started reading request body.
2024-09-11 07:17:49.327 +07:00 [DBG] Connection id "0HN6HTPGEEQOI", Request id "0HN6HTPGEEQOI:00000004": done reading request body.
2024-09-11 07:17:49.327 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BaseDotnet.Models.AuthenticateRequest'
2024-09-11 07:17:49.327 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest'.
2024-09-11 07:17:49.327 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest'.
2024-09-11 07:17:49.327 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest' ...
2024-09-11 07:17:49.327 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest'.
2024-09-11 07:17:49.327 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:17:49.327 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:17:49.328 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 07:17:49.328 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:17:49.328 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:17:49.328 +07:00 [DBG] Executing DbCommand [Parameters=[@__model_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.email = @__model_Email_0
LIMIT 2
2024-09-11 07:17:49.328 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__model_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.email = @__model_Email_0
LIMIT 2
2024-09-11 07:17:49.328 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:17:49.328 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 07:17:49.328 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:17:49.329 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:17:49.329 +07:00 [ERR] Auth Email or password is incorrect
2024-09-11 07:17:49.329 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 07:17:49.329 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 07:17:49.329 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 07:17:49.329 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 07:17:49.329 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 07:17:49.329 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-11 07:17:49.329 +07:00 [INF] Executed action BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet) in 3.7011ms
2024-09-11 07:17:49.329 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)'
2024-09-11 07:17:49.329 +07:00 [DBG] Connection id "0HN6HTPGEEQOI" completed keep alive response.
2024-09-11 07:17:49.329 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 07:17:49.330 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:17:49.330 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:17:49.330 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5245/auth/login - 400 null application/json; charset=utf-8 61.4729ms
2024-09-11 07:18:13.308 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/auth/login - null null
2024-09-11 07:18:13.309 +07:00 [DBG] 1 candidate(s) found for the request path '/auth/login'
2024-09-11 07:18:13.309 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 07:18:13.309 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 07:18:13.310 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 07:18:13.310 +07:00 [INF] CORS policy execution successful.
2024-09-11 07:18:13.310 +07:00 [DBG] The request is a preflight request.
2024-09-11 07:18:13.310 +07:00 [DBG] Connection id "0HN6HTPGEEQOI" completed keep alive response.
2024-09-11 07:18:13.310 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/auth/login - 204 null null 1.8133ms
2024-09-11 07:18:13.314 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5245/auth/login - application/json 49
2024-09-11 07:18:13.314 +07:00 [DBG] 1 candidate(s) found for the request path '/auth/login'
2024-09-11 07:18:13.314 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)' with route pattern 'Auth/login' is valid for the request path '/auth/login'
2024-09-11 07:18:13.317 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)'
2024-09-11 07:18:13.317 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 07:18:13.317 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 07:18:13.318 +07:00 [INF] CORS policy execution successful.
2024-09-11 07:18:13.318 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 07:18:13.320 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 07:18:13.321 +07:00 [DBG] Creating DbConnection.
2024-09-11 07:18:13.321 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 07:18:13.321 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.321 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.322 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 07:18:13.322 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:18:13.322 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:18:13.322 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 07:18:13.323 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 07:18:13.324 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 07:18:13.324 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.324 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 07:18:13.324 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.324 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:18:13.324 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)'
2024-09-11 07:18:13.324 +07:00 [INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(BaseDotnet.Models.AuthenticateRequest) on controller BaseDotnet.Controllers.AuthController (BaseDotnet).
2024-09-11 07:18:13.325 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 07:18:13.325 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 07:18:13.325 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 07:18:13.325 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 07:18:13.326 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 07:18:13.326 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.AuthController (BaseDotnet)
2024-09-11 07:18:13.326 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.AuthController (BaseDotnet)
2024-09-11 07:18:13.326 +07:00 [DBG] Attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest' ...
2024-09-11 07:18:13.326 +07:00 [DBG] Attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest' using the name '' in request data ...
2024-09-11 07:18:13.326 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 07:18:13.326 +07:00 [DBG] Connection id "0HN6HTPGEEQOI", Request id "0HN6HTPGEEQOI:00000006": started reading request body.
2024-09-11 07:18:13.326 +07:00 [DBG] Connection id "0HN6HTPGEEQOI", Request id "0HN6HTPGEEQOI:00000006": done reading request body.
2024-09-11 07:18:13.327 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BaseDotnet.Models.AuthenticateRequest'
2024-09-11 07:18:13.327 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest'.
2024-09-11 07:18:13.327 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest'.
2024-09-11 07:18:13.327 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest' ...
2024-09-11 07:18:13.327 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest'.
2024-09-11 07:18:13.327 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.327 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.328 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 07:18:13.328 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:18:13.328 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:18:13.328 +07:00 [DBG] Executing DbCommand [Parameters=[@__model_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.email = @__model_Email_0
LIMIT 2
2024-09-11 07:18:13.329 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__model_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.email = @__model_Email_0
LIMIT 2
2024-09-11 07:18:13.329 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.329 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 07:18:13.329 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.329 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:18:13.330 +07:00 [DBG] An entity of type 'User' tracked by 'BaseDotnetDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 07:18:13.331 +07:00 [DBG] SaveChanges starting for 'BaseDotnetDbContext'.
2024-09-11 07:18:13.331 +07:00 [DBG] DetectChanges starting for 'BaseDotnetDbContext'.
2024-09-11 07:18:13.331 +07:00 [DBG] DetectChanges completed for 'BaseDotnetDbContext'.
2024-09-11 07:18:13.333 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.333 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.333 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 07:18:13.333 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:18:13.333 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:18:13.333 +07:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE master.mst_users SET created_date = @p0, display_name = @p1, email = @p2, last_login = @p3, password = @p4, role_id = @p5, salt = @p6, status = @p7, username = @p8
WHERE user_id = @p9;
2024-09-11 07:18:13.337 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE master.mst_users SET created_date = @p0, display_name = @p1, email = @p2, last_login = @p3, password = @p4, role_id = @p5, salt = @p6, status = @p7, username = @p8
WHERE user_id = @p9;
2024-09-11 07:18:13.337 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.337 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 07:18:13.337 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.337 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:18:13.338 +07:00 [DBG] An entity of type 'User' tracked by 'BaseDotnetDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 07:18:13.338 +07:00 [DBG] SaveChanges completed for 'BaseDotnetDbContext' with 1 entities written to the database.
2024-09-11 07:18:13.338 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.338 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.338 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 07:18:13.338 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:18:13.339 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:18:13.339 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 07:18:13.339 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 07:18:13.340 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.340 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 07:18:13.340 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.340 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:18:13.341 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.341 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.341 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 07:18:13.341 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:18:13.341 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:18:13.341 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.role_id, m.role_name
FROM master.mst_role AS m
WHERE m.role_id = @__id_0
LIMIT 2
2024-09-11 07:18:13.343 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.role_id, m.role_name
FROM master.mst_role AS m
WHERE m.role_id = @__id_0
LIMIT 2
2024-09-11 07:18:13.344 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 07:18:13.344 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.344 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 07:18:13.345 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.345 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:18:13.346 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.346 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.346 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 07:18:13.346 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:18:13.346 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:18:13.346 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0
2024-09-11 07:18:13.348 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0
2024-09-11 07:18:13.348 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 07:18:13.348 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 07:18:13.348 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 07:18:13.348 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 07:18:13.348 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.349 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 07:18:13.349 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.349 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:18:13.349 +07:00 [INF] LOGIN USER {"RoleID":1,"RoleName":"Admin","AccessList":[{"PageCode":"MasterRole","Action":"Create,Read,Update,Delete","RoleID":1},{"PageCode":"MasterUser","Action":"Create,Read,Update,Delete","RoleID":1},{"PageCode":"MasterProductCategory","Action":"Create,Read,Update,Delete","RoleID":1},{"PageCode":"MasterOffice","Action":"Create,Read,Update,Delete","RoleID":1}],"PageList":null}
2024-09-11 07:18:13.350 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 07:18:13.350 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 07:18:13.350 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 07:18:13.350 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 07:18:13.350 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 07:18:13.350 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-11 07:18:13.350 +07:00 [INF] Executed action BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet) in 24.8789ms
2024-09-11 07:18:13.351 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)'
2024-09-11 07:18:13.351 +07:00 [DBG] Connection id "0HN6HTPGEEQOI" completed keep alive response.
2024-09-11 07:18:13.351 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 07:18:13.351 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:18:13.351 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:18:13.351 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5245/auth/login - 200 null application/json; charset=utf-8 37.6421ms
2024-09-11 07:18:58.264 +07:00 [DBG] Connection id "0HN6HTPGEEQOI" received FIN.
2024-09-11 07:18:58.267 +07:00 [DBG] Connection id "0HN6HTPGEEQOI" disconnecting.
2024-09-11 07:18:58.268 +07:00 [DBG] Connection id "0HN6HTPGEEQOI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 07:18:58.271 +07:00 [DBG] Connection id "0HN6HTPGEEQOI" stopped.
2024-09-11 07:29:09.900 +07:00 [DBG] Connection id "0HN6HTPGEEQOJ" accepted.
2024-09-11 07:29:09.902 +07:00 [DBG] Connection id "0HN6HTPGEEQOJ" started.
2024-09-11 07:29:09.904 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/auth/login - null null
2024-09-11 07:29:09.905 +07:00 [DBG] 1 candidate(s) found for the request path '/auth/login'
2024-09-11 07:29:09.905 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 07:29:09.905 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 07:29:09.906 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 07:29:09.906 +07:00 [INF] CORS policy execution successful.
2024-09-11 07:29:09.906 +07:00 [DBG] The request is a preflight request.
2024-09-11 07:29:09.906 +07:00 [DBG] Connection id "0HN6HTPGEEQOJ" completed keep alive response.
2024-09-11 07:29:09.907 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/auth/login - 204 null null 2.7965ms
2024-09-11 07:29:09.911 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5245/auth/login - application/json 49
2024-09-11 07:29:09.911 +07:00 [DBG] 1 candidate(s) found for the request path '/auth/login'
2024-09-11 07:29:09.911 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)' with route pattern 'Auth/login' is valid for the request path '/auth/login'
2024-09-11 07:29:09.912 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)'
2024-09-11 07:29:09.912 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 07:29:09.912 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 07:29:09.912 +07:00 [INF] CORS policy execution successful.
2024-09-11 07:29:09.913 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 07:29:09.916 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 07:29:09.919 +07:00 [DBG] Creating DbConnection.
2024-09-11 07:29:09.920 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 07:29:09.920 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.935 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.935 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 07:29:09.935 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:29:09.936 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:29:09.936 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 07:29:09.937 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 07:29:09.938 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 07:29:09.938 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.938 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 07:29:09.938 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.938 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:29:09.939 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)'
2024-09-11 07:29:09.939 +07:00 [INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(BaseDotnet.Models.AuthenticateRequest) on controller BaseDotnet.Controllers.AuthController (BaseDotnet).
2024-09-11 07:29:09.939 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 07:29:09.939 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 07:29:09.939 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 07:29:09.939 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 07:29:09.940 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 07:29:09.940 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.AuthController (BaseDotnet)
2024-09-11 07:29:09.940 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.AuthController (BaseDotnet)
2024-09-11 07:29:09.940 +07:00 [DBG] Attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest' ...
2024-09-11 07:29:09.940 +07:00 [DBG] Attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest' using the name '' in request data ...
2024-09-11 07:29:09.940 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 07:29:09.941 +07:00 [DBG] Connection id "0HN6HTPGEEQOJ", Request id "0HN6HTPGEEQOJ:00000002": started reading request body.
2024-09-11 07:29:09.941 +07:00 [DBG] Connection id "0HN6HTPGEEQOJ", Request id "0HN6HTPGEEQOJ:00000002": done reading request body.
2024-09-11 07:29:09.941 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BaseDotnet.Models.AuthenticateRequest'
2024-09-11 07:29:09.941 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest'.
2024-09-11 07:29:09.942 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest'.
2024-09-11 07:29:09.942 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest' ...
2024-09-11 07:29:09.942 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest'.
2024-09-11 07:29:09.943 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.943 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.943 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 07:29:09.943 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:29:09.943 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:29:09.943 +07:00 [DBG] Executing DbCommand [Parameters=[@__model_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.email = @__model_Email_0
LIMIT 2
2024-09-11 07:29:09.945 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__model_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.email = @__model_Email_0
LIMIT 2
2024-09-11 07:29:09.945 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.945 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 07:29:09.945 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.946 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:29:09.946 +07:00 [DBG] An entity of type 'User' tracked by 'BaseDotnetDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 07:29:09.946 +07:00 [DBG] SaveChanges starting for 'BaseDotnetDbContext'.
2024-09-11 07:29:09.946 +07:00 [DBG] DetectChanges starting for 'BaseDotnetDbContext'.
2024-09-11 07:29:09.947 +07:00 [DBG] DetectChanges completed for 'BaseDotnetDbContext'.
2024-09-11 07:29:09.947 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.947 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.947 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 07:29:09.947 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:29:09.948 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:29:09.948 +07:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE master.mst_users SET created_date = @p0, display_name = @p1, email = @p2, last_login = @p3, password = @p4, role_id = @p5, salt = @p6, status = @p7, username = @p8
WHERE user_id = @p9;
2024-09-11 07:29:09.950 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE master.mst_users SET created_date = @p0, display_name = @p1, email = @p2, last_login = @p3, password = @p4, role_id = @p5, salt = @p6, status = @p7, username = @p8
WHERE user_id = @p9;
2024-09-11 07:29:09.950 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.950 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 07:29:09.950 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.950 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:29:09.950 +07:00 [DBG] An entity of type 'User' tracked by 'BaseDotnetDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 07:29:09.951 +07:00 [DBG] SaveChanges completed for 'BaseDotnetDbContext' with 1 entities written to the database.
2024-09-11 07:29:09.951 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.951 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.952 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 07:29:09.952 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:29:09.952 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:29:09.952 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 07:29:09.953 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 07:29:09.953 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.954 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 07:29:09.954 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.954 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:29:09.954 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.954 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.954 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 07:29:09.954 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:29:09.954 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:29:09.954 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.role_id, m.role_name
FROM master.mst_role AS m
WHERE m.role_id = @__id_0
LIMIT 2
2024-09-11 07:29:09.955 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.role_id, m.role_name
FROM master.mst_role AS m
WHERE m.role_id = @__id_0
LIMIT 2
2024-09-11 07:29:09.955 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 07:29:09.955 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.956 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 07:29:09.956 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.956 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:29:09.956 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.956 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.956 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 07:29:09.957 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:29:09.957 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 07:29:09.957 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0
2024-09-11 07:29:09.958 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0
2024-09-11 07:29:09.958 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 07:29:09.958 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 07:29:09.958 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 07:29:09.958 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 07:29:09.959 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.959 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 07:29:09.959 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.959 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:29:09.959 +07:00 [INF] LOGIN USER {"RoleID":1,"RoleName":"Admin","AccessList":[{"PageCode":"MasterRole","Action":"Create,Read,Update,Delete","RoleID":1},{"PageCode":"MasterUser","Action":"Create,Read,Update,Delete","RoleID":1},{"PageCode":"MasterProductCategory","Action":"Create,Read,Update,Delete","RoleID":1},{"PageCode":"MasterOffice","Action":"Create,Read,Update,Delete","RoleID":1}],"PageList":null}
2024-09-11 07:29:09.960 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 07:29:09.960 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 07:29:09.960 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 07:29:09.960 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 07:29:09.960 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 07:29:09.960 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-11 07:29:09.961 +07:00 [INF] Executed action BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet) in 21.3642ms
2024-09-11 07:29:09.961 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)'
2024-09-11 07:29:09.961 +07:00 [DBG] Connection id "0HN6HTPGEEQOJ" completed keep alive response.
2024-09-11 07:29:09.962 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 07:29:09.962 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 07:29:09.962 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 07:29:09.962 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5245/auth/login - 200 null application/json; charset=utf-8 51.4513ms
2024-09-11 07:31:21.445 +07:00 [DBG] Connection id "0HN6HTPGEEQOJ" disconnecting.
2024-09-11 07:31:21.446 +07:00 [DBG] Connection id "0HN6HTPGEEQOJ" stopped.
2024-09-11 07:31:21.447 +07:00 [DBG] Connection id "0HN6HTPGEEQOJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:15:21.948 +07:00 [DBG] Connection id "0HN6HTPGEEQOK" accepted.
2024-09-11 08:15:21.950 +07:00 [DBG] Connection id "0HN6HTPGEEQOL" accepted.
2024-09-11 08:15:21.951 +07:00 [DBG] Connection id "0HN6HTPGEEQOK" started.
2024-09-11 08:15:21.952 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/swagger/index.html - null null
2024-09-11 08:15:21.954 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-11 08:15:21.955 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:15:21.955 +07:00 [DBG] Connection id "0HN6HTPGEEQOL" started.
2024-09-11 08:15:22.011 +07:00 [DBG] Connection id "0HN6HTPGEEQOK" completed keep alive response.
2024-09-11 08:15:22.011 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/swagger/index.html - 200 null text/html;charset=utf-8 59.1196ms
2024-09-11 08:15:22.030 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/swagger/swagger-ui.css - null null
2024-09-11 08:15:22.030 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-09-11 08:15:22.030 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:15:22.036 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/swagger/swagger-ui-bundle.js - null null
2024-09-11 08:15:22.036 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-09-11 08:15:22.036 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:15:22.044 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-11 08:15:22.045 +07:00 [DBG] Connection id "0HN6HTPGEEQOK" completed keep alive response.
2024-09-11 08:15:22.046 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/swagger/swagger-ui.css - 200 143943 text/css 15.758ms
2024-09-11 08:15:22.049 +07:00 [DBG] Connection id "0HN6HTPGEEQOM" accepted.
2024-09-11 08:15:22.049 +07:00 [DBG] Connection id "0HN6HTPGEEQOM" started.
2024-09-11 08:15:22.049 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/swagger/swagger-ui-standalone-preset.js - null null
2024-09-11 08:15:22.050 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-09-11 08:15:22.050 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:15:22.051 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-09-11 08:15:22.051 +07:00 [DBG] Connection id "0HN6HTPGEEQOL" completed keep alive response.
2024-09-11 08:15:22.051 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 15.5487ms
2024-09-11 08:15:22.051 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-09-11 08:15:22.052 +07:00 [DBG] Connection id "0HN6HTPGEEQOM" completed keep alive response.
2024-09-11 08:15:22.052 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 2.0918ms
2024-09-11 08:15:22.142 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/swagger/v1/swagger.json - null null
2024-09-11 08:15:22.142 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-11 08:15:22.142 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:15:22.196 +07:00 [DBG] Connection id "0HN6HTPGEEQOM" completed keep alive response.
2024-09-11 08:15:22.196 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.604ms
2024-09-11 08:15:26.169 +07:00 [DBG] Connection id "0HN6HTPGEEQOL" received FIN.
2024-09-11 08:15:26.169 +07:00 [DBG] Connection id "0HN6HTPGEEQOK" received FIN.
2024-09-11 08:15:26.169 +07:00 [DBG] Connection id "0HN6HTPGEEQOM" received FIN.
2024-09-11 08:15:26.170 +07:00 [DBG] Connection id "0HN6HTPGEEQOL" disconnecting.
2024-09-11 08:15:26.170 +07:00 [DBG] Connection id "0HN6HTPGEEQOK" disconnecting.
2024-09-11 08:15:26.170 +07:00 [DBG] Connection id "0HN6HTPGEEQOL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:15:26.170 +07:00 [DBG] Connection id "0HN6HTPGEEQOK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:15:26.170 +07:00 [DBG] Connection id "0HN6HTPGEEQOM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:15:26.170 +07:00 [DBG] Connection id "0HN6HTPGEEQOK" stopped.
2024-09-11 08:15:26.171 +07:00 [DBG] Connection id "0HN6HTPGEEQOM" disconnecting.
2024-09-11 08:15:26.171 +07:00 [DBG] Connection id "0HN6HTPGEEQOM" stopped.
2024-09-11 08:15:26.171 +07:00 [DBG] Connection id "0HN6HTPGEEQOL" stopped.
2024-09-11 08:17:45.240 +07:00 [DBG] Connection id "0HN6HTPGEEQON" accepted.
2024-09-11 08:17:45.241 +07:00 [DBG] Connection id "0HN6HTPGEEQON" started.
2024-09-11 08:17:45.243 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5245/Auth/login - application/json 58
2024-09-11 08:17:45.244 +07:00 [DBG] 1 candidate(s) found for the request path '/Auth/login'
2024-09-11 08:17:45.244 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)' with route pattern 'Auth/login' is valid for the request path '/Auth/login'
2024-09-11 08:17:45.245 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)'
2024-09-11 08:17:45.245 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:17:45.245 +07:00 [DBG] The request has an origin header: 'http://localhost:5245'.
2024-09-11 08:17:45.246 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:17:45.247 +07:00 [INF] [null]
2024-09-11 08:17:45.247 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)'
2024-09-11 08:17:45.248 +07:00 [INF] Route matched with {action = "Authenticate", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(BaseDotnet.Models.AuthenticateRequest) on controller BaseDotnet.Controllers.AuthController (BaseDotnet).
2024-09-11 08:17:45.249 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-11 08:17:45.249 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:17:45.249 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:17:45.249 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:17:45.249 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:17:45.249 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.AuthController (BaseDotnet)
2024-09-11 08:17:45.249 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.AuthController (BaseDotnet)
2024-09-11 08:17:45.250 +07:00 [DBG] Attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest' ...
2024-09-11 08:17:45.250 +07:00 [DBG] Attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest' using the name '' in request data ...
2024-09-11 08:17:45.250 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-11 08:17:45.250 +07:00 [DBG] Connection id "0HN6HTPGEEQON", Request id "0HN6HTPGEEQON:00000001": started reading request body.
2024-09-11 08:17:45.250 +07:00 [DBG] Connection id "0HN6HTPGEEQON", Request id "0HN6HTPGEEQON:00000001": done reading request body.
2024-09-11 08:17:45.250 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'BaseDotnet.Models.AuthenticateRequest'
2024-09-11 08:17:45.250 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest'.
2024-09-11 08:17:45.250 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest'.
2024-09-11 08:17:45.251 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest' ...
2024-09-11 08:17:45.251 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'BaseDotnet.Models.AuthenticateRequest'.
2024-09-11 08:17:45.253 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:17:45.254 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:17:45.254 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:17:45.254 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.258 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.259 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:17:45.259 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:17:45.259 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:17:45.259 +07:00 [DBG] Executing DbCommand [Parameters=[@__model_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.email = @__model_Email_0
LIMIT 2
2024-09-11 08:17:45.261 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__model_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.email = @__model_Email_0
LIMIT 2
2024-09-11 08:17:45.262 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:17:45.262 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.262 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:17:45.262 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.262 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:17:45.263 +07:00 [DBG] An entity of type 'User' tracked by 'BaseDotnetDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:17:45.263 +07:00 [DBG] SaveChanges starting for 'BaseDotnetDbContext'.
2024-09-11 08:17:45.263 +07:00 [DBG] DetectChanges starting for 'BaseDotnetDbContext'.
2024-09-11 08:17:45.263 +07:00 [DBG] DetectChanges completed for 'BaseDotnetDbContext'.
2024-09-11 08:17:45.264 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.264 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.264 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:17:45.264 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:17:45.264 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:17:45.264 +07:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE master.mst_users SET created_date = @p0, display_name = @p1, email = @p2, last_login = @p3, password = @p4, role_id = @p5, salt = @p6, status = @p7, username = @p8
WHERE user_id = @p9;
2024-09-11 08:17:45.266 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE master.mst_users SET created_date = @p0, display_name = @p1, email = @p2, last_login = @p3, password = @p4, role_id = @p5, salt = @p6, status = @p7, username = @p8
WHERE user_id = @p9;
2024-09-11 08:17:45.266 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.266 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:17:45.266 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.266 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:17:45.266 +07:00 [DBG] An entity of type 'User' tracked by 'BaseDotnetDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:17:45.267 +07:00 [DBG] SaveChanges completed for 'BaseDotnetDbContext' with 1 entities written to the database.
2024-09-11 08:17:45.267 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.267 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.267 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:17:45.267 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:17:45.267 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:17:45.267 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:17:45.268 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:17:45.268 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.268 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:17:45.268 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.268 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:17:45.268 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.268 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.268 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:17:45.268 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:17:45.268 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:17:45.268 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.role_id, m.role_name
FROM master.mst_role AS m
WHERE m.role_id = @__id_0
LIMIT 2
2024-09-11 08:17:45.269 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.role_id, m.role_name
FROM master.mst_role AS m
WHERE m.role_id = @__id_0
LIMIT 2
2024-09-11 08:17:45.270 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:17:45.270 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.270 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:17:45.270 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.270 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:17:45.271 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.271 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.271 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:17:45.271 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:17:45.271 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:17:45.271 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0
2024-09-11 08:17:45.271 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0
2024-09-11 08:17:45.272 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:17:45.272 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:17:45.272 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:17:45.272 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:17:45.272 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.272 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:17:45.272 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.272 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:17:45.272 +07:00 [INF] LOGIN USER {"RoleID":1,"RoleName":"Admin","AccessList":[{"PageCode":"MasterRole","Action":"Create,Read,Update,Delete","RoleID":1},{"PageCode":"MasterUser","Action":"Create,Read,Update,Delete","RoleID":1},{"PageCode":"MasterProductCategory","Action":"Create,Read,Update,Delete","RoleID":1},{"PageCode":"MasterOffice","Action":"Create,Read,Update,Delete","RoleID":1}],"PageList":null}
2024-09-11 08:17:45.273 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:17:45.273 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:17:45.273 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:17:45.273 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:17:45.273 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:17:45.273 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-11 08:17:45.273 +07:00 [INF] Executed action BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet) in 24.2061ms
2024-09-11 08:17:45.274 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.AuthController.Authenticate (BaseDotnet)'
2024-09-11 08:17:45.274 +07:00 [DBG] Connection id "0HN6HTPGEEQON" completed keep alive response.
2024-09-11 08:17:45.274 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:17:45.274 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:17:45.274 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:17:45.274 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5245/Auth/login - 200 null application/json; charset=utf-8 31.3857ms
2024-09-11 08:17:46.218 +07:00 [DBG] Connection id "0HN6HTPGEEQON" received FIN.
2024-09-11 08:17:46.218 +07:00 [DBG] Connection id "0HN6HTPGEEQON" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:17:46.218 +07:00 [DBG] Connection id "0HN6HTPGEEQON" disconnecting.
2024-09-11 08:17:46.218 +07:00 [DBG] Connection id "0HN6HTPGEEQON" stopped.
2024-09-11 08:18:08.010 +07:00 [DBG] Connection id "0HN6HTPGEEQOO" accepted.
2024-09-11 08:18:08.010 +07:00 [DBG] Connection id "0HN6HTPGEEQOO" started.
2024-09-11 08:18:08.010 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?orderBy=UserID&orderType=asc&page=1&pageSize=10 - null null
2024-09-11 08:18:08.011 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:18:08.011 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:18:08.011 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:18:08.011 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:18:08.012 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MjYwMTc0NjUsImV4cCI6MjA0MTU1MDI2NSwiaWF0IjoxNzI2MDE3NDY1fQ.6d0qyspgT5ITbSUUZaVWaEkYjz4gdMLJ1dg4aFFDcrE
2024-09-11 08:18:08.013 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:18:08.014 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:18:08.014 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:18:08.014 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:18:08.014 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:18:08.015 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:18:08.015 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:18:08.015 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:18:08.015 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:18:08.017 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:18:08.017 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:18:08.017 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:18:08.017 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:18:08.018 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:18:08.018 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:18:08.018 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:18:08.025 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:18:08.025 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:18:08.025 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:18:08.025 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:18:08.025 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:18:08.025 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:18:08.031 +07:00 [DBG] Compiling query expression: 
'DbSet<RolePageAccess>()
    .SingleOrDefault(x => x.RoleID.Equals(__roleId_0) && x.PageCode.Equals(__ToString_1))'
2024-09-11 08:18:08.036 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<RolePageAccess>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: RolePageAccess.PageCode (string) Required PK AfterSave:Throw, 0], [Property: RolePageAccess.Action (string) Required PK AfterSave:Throw, 1], [Property: RolePageAccess.RoleID (int) Required PK AfterSave:Throw, 2] }
        SELECT TOP(2) m.page_code, m.action, m.role_id
        FROM master.mst_role_page_access AS m
        WHERE (m.role_id == @__roleId_0) && (m.page_code == @__ToString_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, RolePageAccess>, 
    BaseDotnet.DbContext.BaseDotnetDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-09-11 08:18:08.038 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:18:08.039 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:18:08.039 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:18:08.039 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:18:08.039 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:18:08.039 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:18:08.039 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:18:08.040 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:18:08.040 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:18:08.040 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:18:08.040 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:18:08.040 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:18:08.040 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:18:08.041 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:18:08.044 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:18:08.044 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:18:08.045 +07:00 [DBG] Could not find a value in the request with name 'keyword' for binding parameter 'keyword' of type 'System.String'.
2024-09-11 08:18:08.045 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:18:08.045 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:18:08.045 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:18:08.045 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:18:08.045 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:18:08.045 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:18:08.045 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:18:08.045 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:18:08.045 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:18:08.046 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:18:08.046 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:18:08.046 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:18:08.046 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:18:08.046 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:18:08.046 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:18:08.046 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:18:08.046 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:18:08.046 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:18:08.046 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:18:08.046 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:18:08.047 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:18:08.047 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:18:08.047 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:18:08.047 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:18:08.047 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:18:08.047 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:18:08.047 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:18:08.047 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:18:08.047 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:18:08.047 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:18:08.047 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:18:08.048 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:18:08.048 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:18:08.048 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:18:08.048 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:18:08.048 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:18:08.048 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:18:08.048 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:18:08.048 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:18:08.048 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:18:08.048 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:18:08.048 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:18:08.062 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .GroupJoin(
        inner: DbSet<Role>(), 
        outerKeySelector: user => user.RoleID, 
        innerKeySelector: role => role.RoleID, 
        resultSelector: (user, role) => new { 
            user = user, 
            role = role
         })
    .SelectMany(
        collectionSelector: x => x.role
            .DefaultIfEmpty(), 
        resultSelector: (user, role) => new { 
            user = user.user, 
            role = role
         })
    .OrderBy(x => x.user.UserID)
    .Select(x => new User{ 
        UserID = x.user.UserID, 
        UserName = x.user.UserName, 
        DisplayName = x.user.DisplayName, 
        Email = x.user.Email, 
        Status = x.user.Status, 
        LastLogin = x.user.LastLogin, 
        CreatedDate = x.user.CreatedDate, 
        RoleID = x.user.RoleID, 
        RoleName = x.role.RoleName 
    }
    )
    .Count()'
2024-09-11 08:18:08.091 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(count(*) AS integer)
            FROM master.mst_users AS m
            LEFT JOIN master.mst_role AS m0 ON m.role_id == m0.role_id), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        BaseDotnet.DbContext.BaseDotnetDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 08:18:08.099 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:18:08.099 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:18:08.099 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:18:08.099 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:18:08.099 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:18:08.100 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:18:08.109 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:18:08.111 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:18:08.111 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2024-09-11 08:18:08.112 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:18:08.112 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:18:08.114 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .GroupJoin(
        inner: DbSet<Role>(), 
        outerKeySelector: user => user.RoleID, 
        innerKeySelector: role => role.RoleID, 
        resultSelector: (user, role) => new { 
            user = user, 
            role = role
         })
    .SelectMany(
        collectionSelector: x => x.role
            .DefaultIfEmpty(), 
        resultSelector: (user, role) => new { 
            user = user.user, 
            role = role
         })
    .OrderBy(x => x.user.UserID)
    .Select(x => new User{ 
        UserID = x.user.UserID, 
        UserName = x.user.UserName, 
        DisplayName = x.user.DisplayName, 
        Email = x.user.Email, 
        Status = x.user.Status, 
        LastLogin = x.user.LastLogin, 
        CreatedDate = x.user.CreatedDate, 
        RoleID = x.user.RoleID, 
        RoleName = x.role.RoleName 
    }
    )
    .Skip(__p_0)
    .Take(__p_1)'
2024-09-11 08:18:08.118 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            UserID -> 0
            UserName -> 1
            DisplayName -> 2
            Email -> 3
            Status -> 4
            LastLogin -> 5
            CreatedDate -> 6
            RoleID -> 7
            RoleName -> 8
        SELECT m.user_id AS UserID, m.username AS UserName, m.display_name AS DisplayName, m.email AS Email, m.status AS Status, m.last_login AS LastLogin, m.created_date AS CreatedDate, m.role_id AS RoleID, m0.role_name AS RoleName
        FROM master.mst_users AS m
        LEFT JOIN master.mst_role AS m0 ON m.role_id == m0.role_id
        ORDER BY m.user_id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    BaseDotnet.DbContext.BaseDotnetDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 08:18:08.120 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:18:08.120 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:18:08.121 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:18:08.121 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:18:08.121 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:18:08.121 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:18:08.123 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:18:08.124 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:18:08.124 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2024-09-11 08:18:08.124 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:18:08.124 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:18:08.125 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:18:08.125 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:18:08.125 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:18:08.125 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:18:08.125 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:18:08.125 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:18:08.129 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 103.5403ms
2024-09-11 08:18:08.130 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:18:08.130 +07:00 [DBG] Connection id "0HN6HTPGEEQOO" completed keep alive response.
2024-09-11 08:18:08.130 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:18:08.130 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:18:08.131 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:18:08.131 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?orderBy=UserID&orderType=asc&page=1&pageSize=10 - 200 null application/json; charset=utf-8 120.4955ms
2024-09-11 08:18:11.222 +07:00 [DBG] Connection id "0HN6HTPGEEQOO" received FIN.
2024-09-11 08:18:11.222 +07:00 [DBG] Connection id "0HN6HTPGEEQOO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:18:11.222 +07:00 [DBG] Connection id "0HN6HTPGEEQOO" disconnecting.
2024-09-11 08:18:11.223 +07:00 [DBG] Connection id "0HN6HTPGEEQOO" stopped.
2024-09-11 08:25:49.220 +07:00 [DBG] Connection id "0HN6HTPGEEQOP" accepted.
2024-09-11 08:25:49.220 +07:00 [DBG] Connection id "0HN6HTPGEEQOP" started.
2024-09-11 08:25:49.223 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/ProductCategory?orderBy=productCategoryName&orderType=asc&page=1&pageSize=10 - null null
2024-09-11 08:25:49.241 +07:00 [DBG] 1 candidate(s) found for the request path '/ProductCategory'
2024-09-11 08:25:49.242 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.ProductCategoryController.GetAll (BaseDotnet)' with route pattern 'ProductCategory' is valid for the request path '/ProductCategory'
2024-09-11 08:25:49.242 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.ProductCategoryController.GetAll (BaseDotnet)'
2024-09-11 08:25:49.243 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:25:49.247 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MjYwMTc0NjUsImV4cCI6MjA0MTU1MDI2NSwiaWF0IjoxNzI2MDE3NDY1fQ.6d0qyspgT5ITbSUUZaVWaEkYjz4gdMLJ1dg4aFFDcrE
2024-09-11 08:25:49.256 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:25:49.258 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:25:49.258 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:25:49.258 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:25:49.295 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:25:49.295 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:25:49.295 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:25:49.295 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:25:49.295 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:25:49.310 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:25:49.311 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:25:49.311 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:25:49.311 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2024-09-11 08:25:49.311 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:25:49.312 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:25:49.312 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.ProductCategoryController.GetAll (BaseDotnet)'
2024-09-11 08:25:49.320 +07:00 [INF] Route matched with {action = "GetAll", controller = "ProductCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, Int32, Int32) on controller BaseDotnet.Controllers.ProductCategoryController (BaseDotnet).
2024-09-11 08:25:49.320 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:25:49.320 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:25:49.320 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:25:49.320 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:25:49.320 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:25:49.322 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:25:49.322 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:25:49.322 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:25:49.322 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:25:49.322 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:25:49.322 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:25:49.323 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:25:49.324 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:25:49.324 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:25:49.324 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:25:49.324 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:25:49.324 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:25:49.324 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.ProductCategoryController (BaseDotnet)
2024-09-11 08:25:49.326 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.ProductCategoryController (BaseDotnet)
2024-09-11 08:25:49.329 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:25:49.329 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:25:49.329 +07:00 [DBG] Could not find a value in the request with name 'keyword' for binding parameter 'keyword' of type 'System.String'.
2024-09-11 08:25:49.329 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:25:49.329 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:25:49.329 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:25:49.329 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:25:49.329 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:25:49.330 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:25:49.330 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:25:49.330 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:25:49.330 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:25:49.330 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:25:49.330 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:25:49.330 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:25:49.330 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:25:49.330 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:25:49.330 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:25:49.330 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:25:49.330 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:25:49.330 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:25:49.330 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:25:49.330 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:25:49.330 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:25:49.330 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:25:49.330 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:25:49.331 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:25:49.331 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:25:49.331 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:25:49.331 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:25:49.331 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:25:49.334 +07:00 [DBG] Compiling query expression: 
'DbSet<ProductCategory>()
    .OrderBy(x => x.ProductCategoryName)
    .Count()'
2024-09-11 08:25:49.338 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT CAST(count(*) AS integer)
            FROM master.mst_product_category AS m), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        BaseDotnet.DbContext.BaseDotnetDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-11 08:25:49.338 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:25:49.339 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:25:49.339 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:25:49.339 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:25:49.339 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:25:49.339 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_product_category AS m
2024-09-11 08:25:49.347 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_product_category AS m
2024-09-11 08:25:49.347 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:25:49.347 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:25:49.347 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:25:49.347 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:25:49.348 +07:00 [DBG] Compiling query expression: 
'DbSet<ProductCategory>()
    .OrderBy(x => x.ProductCategoryName)
    .Skip(__p_0)
    .Take(__p_1)'
2024-09-11 08:25:49.351 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ProductCategory>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ProductCategory.ProductCategoryID (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ProductCategory.ProductCategoryDescription (string) Required, 1], [Property: ProductCategory.ProductCategoryName (string) Required, 2] }
        SELECT m.product_category_id, m.description, m.name
        FROM master.mst_product_category AS m
        ORDER BY m.name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductCategory>, 
    BaseDotnet.DbContext.BaseDotnetDbContext, 
    False, 
    False, 
    True
)'
2024-09-11 08:25:49.352 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:25:49.352 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:25:49.352 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:25:49.352 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:25:49.352 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:25:49.352 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.product_category_id, m.description, m.name
FROM master.mst_product_category AS m
ORDER BY m.name
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:25:49.354 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.product_category_id, m.description, m.name
FROM master.mst_product_category AS m
ORDER BY m.name
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:25:49.355 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'ProductCategory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:25:49.358 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:25:49.359 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2024-09-11 08:25:49.359 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:25:49.359 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:25:49.359 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:25:49.359 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:25:49.359 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:25:49.359 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:25:49.359 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:25:49.360 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`5[[System.Collections.Generic.List`1[[BaseDotnet.Entities.ProductCategory, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-11 08:25:49.364 +07:00 [INF] Executed action BaseDotnet.Controllers.ProductCategoryController.GetAll (BaseDotnet) in 43.6117ms
2024-09-11 08:25:49.364 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.ProductCategoryController.GetAll (BaseDotnet)'
2024-09-11 08:25:49.364 +07:00 [DBG] Connection id "0HN6HTPGEEQOP" completed keep alive response.
2024-09-11 08:25:49.364 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:25:49.364 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:25:49.364 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:25:49.364 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/ProductCategory?orderBy=productCategoryName&orderType=asc&page=1&pageSize=10 - 200 null application/json; charset=utf-8 141.6256ms
2024-09-11 08:25:51.317 +07:00 [DBG] Connection id "0HN6HTPGEEQOP" received FIN.
2024-09-11 08:25:51.317 +07:00 [DBG] Connection id "0HN6HTPGEEQOP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:25:51.317 +07:00 [DBG] Connection id "0HN6HTPGEEQOP" disconnecting.
2024-09-11 08:25:51.317 +07:00 [DBG] Connection id "0HN6HTPGEEQOP" stopped.
2024-09-11 08:30:37.787 +07:00 [DBG] Connection id "0HN6HTPGEEQOQ" accepted.
2024-09-11 08:30:37.790 +07:00 [DBG] Connection id "0HN6HTPGEEQOQ" started.
2024-09-11 08:30:37.796 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/Users?page=1&pageSize=10 - null null
2024-09-11 08:30:37.797 +07:00 [DBG] No candidates found for the request path '/Users'
2024-09-11 08:30:37.797 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:30:37.799 +07:00 [DBG] OPTIONS requests are not supported
2024-09-11 08:30:37.800 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:30:37.800 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:30:37.801 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:30:37.801 +07:00 [DBG] Connection id "0HN6HTPGEEQOQ" completed keep alive response.
2024-09-11 08:30:37.801 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/Users?page=1&pageSize=10 - 204 null null 5.696ms
2024-09-11 08:30:37.803 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/Users?page=1&pageSize=10 - null null
2024-09-11 08:30:37.804 +07:00 [DBG] No candidates found for the request path '/Users'
2024-09-11 08:30:37.804 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:30:37.804 +07:00 [DBG] The request path  does not match the path filter
2024-09-11 08:30:37.805 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:30:37.805 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:30:37.806 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:30:37.810 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:30:37.811 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:30:37.811 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:30:37.811 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:30:37.811 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:30:37.811 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:30:37.811 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:30:37.811 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:30:37.811 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:30:37.813 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:30:37.813 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:30:37.814 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:30:37.814 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:30:37.814 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:30:37.814 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:30:37.816 +07:00 [DBG] Connection id "0HN6HTPGEEQOQ" completed keep alive response.
2024-09-11 08:30:37.816 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:30:37.816 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:30:37.816 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:30:37.816 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/Users?page=1&pageSize=10 - 404 0 null 12.9607ms
2024-09-11 08:30:37.819 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5245/Users, Response status code: 404
2024-09-11 08:30:41.375 +07:00 [DBG] Connection id "0HN6HTPGEEQOQ" received FIN.
2024-09-11 08:30:41.376 +07:00 [DBG] Connection id "0HN6HTPGEEQOQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:30:41.376 +07:00 [DBG] Connection id "0HN6HTPGEEQOQ" disconnecting.
2024-09-11 08:30:41.376 +07:00 [DBG] Connection id "0HN6HTPGEEQOQ" stopped.
2024-09-11 08:32:37.924 +07:00 [DBG] Connection id "0HN6HTPGEEQOR" accepted.
2024-09-11 08:32:37.925 +07:00 [DBG] Connection id "0HN6HTPGEEQOR" started.
2024-09-11 08:32:37.927 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/Users?page=1&pageSize=10 - null null
2024-09-11 08:32:37.928 +07:00 [DBG] No candidates found for the request path '/Users'
2024-09-11 08:32:37.928 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:32:37.929 +07:00 [DBG] OPTIONS requests are not supported
2024-09-11 08:32:37.936 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:32:37.936 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:32:37.936 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:32:37.936 +07:00 [DBG] Connection id "0HN6HTPGEEQOR" completed keep alive response.
2024-09-11 08:32:37.937 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/Users?page=1&pageSize=10 - 204 null null 9.5255ms
2024-09-11 08:32:37.939 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/Users?page=1&pageSize=10 - null null
2024-09-11 08:32:37.939 +07:00 [DBG] No candidates found for the request path '/Users'
2024-09-11 08:32:37.939 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:32:37.940 +07:00 [DBG] The request path  does not match the path filter
2024-09-11 08:32:37.940 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:32:37.940 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:32:37.941 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:32:37.964 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:32:37.966 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:32:37.966 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:32:37.966 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:32:37.983 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:32:37.983 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:32:37.983 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:32:37.984 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:32:37.984 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:32:37.986 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:32:37.986 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:32:37.986 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:32:37.986 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:32:37.986 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:32:37.987 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:32:37.987 +07:00 [DBG] Connection id "0HN6HTPGEEQOR" completed keep alive response.
2024-09-11 08:32:37.987 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:32:37.987 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:32:37.987 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:32:37.987 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/Users?page=1&pageSize=10 - 404 0 null 48.305ms
2024-09-11 08:32:37.988 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5245/Users, Response status code: 404
2024-09-11 08:32:40.452 +07:00 [DBG] Connection id "0HN6HTPGEEQOR" received FIN.
2024-09-11 08:32:40.452 +07:00 [DBG] Connection id "0HN6HTPGEEQOR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:32:40.452 +07:00 [DBG] Connection id "0HN6HTPGEEQOR" disconnecting.
2024-09-11 08:32:40.453 +07:00 [DBG] Connection id "0HN6HTPGEEQOR" stopped.
2024-09-11 08:32:50.649 +07:00 [DBG] Connection id "0HN6HTPGEEQOS" accepted.
2024-09-11 08:32:50.649 +07:00 [DBG] Connection id "0HN6HTPGEEQOS" started.
2024-09-11 08:32:50.650 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/Users?page=1&pageSize=10 - null null
2024-09-11 08:32:50.650 +07:00 [DBG] No candidates found for the request path '/Users'
2024-09-11 08:32:50.650 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:32:50.650 +07:00 [DBG] OPTIONS requests are not supported
2024-09-11 08:32:50.650 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:32:50.650 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:32:50.650 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:32:50.650 +07:00 [DBG] Connection id "0HN6HTPGEEQOS" completed keep alive response.
2024-09-11 08:32:50.651 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/Users?page=1&pageSize=10 - 204 null null 0.9934ms
2024-09-11 08:32:50.653 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/Users?page=1&pageSize=10 - null null
2024-09-11 08:32:50.654 +07:00 [DBG] No candidates found for the request path '/Users'
2024-09-11 08:32:50.654 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:32:50.654 +07:00 [DBG] The request path  does not match the path filter
2024-09-11 08:32:50.654 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:32:50.654 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:32:50.654 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:32:50.656 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:32:50.657 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:32:50.657 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:32:50.657 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:32:50.657 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:32:50.657 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:32:50.657 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:32:50.657 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:32:50.657 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:32:50.662 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:32:50.662 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:32:50.662 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:32:50.662 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:32:50.662 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:32:50.662 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:32:50.662 +07:00 [DBG] Connection id "0HN6HTPGEEQOS" completed keep alive response.
2024-09-11 08:32:50.662 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:32:50.662 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:32:50.662 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:32:50.662 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/Users?page=1&pageSize=10 - 404 0 null 8.9915ms
2024-09-11 08:32:50.663 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5245/Users, Response status code: 404
2024-09-11 08:32:55.456 +07:00 [DBG] Connection id "0HN6HTPGEEQOS" received FIN.
2024-09-11 08:32:55.456 +07:00 [DBG] Connection id "0HN6HTPGEEQOS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:32:55.456 +07:00 [DBG] Connection id "0HN6HTPGEEQOS" disconnecting.
2024-09-11 08:32:55.457 +07:00 [DBG] Connection id "0HN6HTPGEEQOS" stopped.
2024-09-11 08:32:59.238 +07:00 [DBG] Connection id "0HN6HTPGEEQOT" accepted.
2024-09-11 08:32:59.238 +07:00 [DBG] Connection id "0HN6HTPGEEQOT" started.
2024-09-11 08:32:59.239 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/Users?page=1&pageSize=10 - null null
2024-09-11 08:32:59.239 +07:00 [DBG] No candidates found for the request path '/Users'
2024-09-11 08:32:59.240 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:32:59.240 +07:00 [DBG] OPTIONS requests are not supported
2024-09-11 08:32:59.240 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:32:59.240 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:32:59.240 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:32:59.241 +07:00 [DBG] Connection id "0HN6HTPGEEQOT" completed keep alive response.
2024-09-11 08:32:59.241 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/Users?page=1&pageSize=10 - 204 null null 1.4235ms
2024-09-11 08:32:59.242 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/Users?page=1&pageSize=10 - null null
2024-09-11 08:32:59.242 +07:00 [DBG] No candidates found for the request path '/Users'
2024-09-11 08:32:59.242 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:32:59.243 +07:00 [DBG] The request path  does not match the path filter
2024-09-11 08:32:59.243 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:32:59.243 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:32:59.243 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:32:59.245 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:32:59.246 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:32:59.246 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:32:59.246 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:32:59.246 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:32:59.247 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:32:59.247 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:32:59.247 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:32:59.247 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:32:59.248 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:32:59.248 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:32:59.248 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:32:59.248 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:32:59.248 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:32:59.248 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:32:59.249 +07:00 [DBG] Connection id "0HN6HTPGEEQOT" completed keep alive response.
2024-09-11 08:32:59.249 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:32:59.249 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:32:59.249 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:32:59.249 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/Users?page=1&pageSize=10 - 404 0 null 6.8845ms
2024-09-11 08:32:59.249 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5245/Users, Response status code: 404
2024-09-11 08:33:00.457 +07:00 [DBG] Connection id "0HN6HTPGEEQOT" received FIN.
2024-09-11 08:33:00.457 +07:00 [DBG] Connection id "0HN6HTPGEEQOT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:33:00.457 +07:00 [DBG] Connection id "0HN6HTPGEEQOT" disconnecting.
2024-09-11 08:33:00.457 +07:00 [DBG] Connection id "0HN6HTPGEEQOT" stopped.
2024-09-11 08:33:12.769 +07:00 [DBG] Connection id "0HN6HTPGEEQOU" accepted.
2024-09-11 08:33:12.770 +07:00 [DBG] Connection id "0HN6HTPGEEQOU" started.
2024-09-11 08:33:12.771 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/Users?page=1&pageSize=10 - null null
2024-09-11 08:33:12.771 +07:00 [DBG] No candidates found for the request path '/Users'
2024-09-11 08:33:12.771 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:33:12.771 +07:00 [DBG] OPTIONS requests are not supported
2024-09-11 08:33:12.771 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:33:12.771 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:33:12.771 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:33:12.771 +07:00 [DBG] Connection id "0HN6HTPGEEQOU" completed keep alive response.
2024-09-11 08:33:12.771 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/Users?page=1&pageSize=10 - 204 null null 0.7525ms
2024-09-11 08:33:12.773 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/Users?page=1&pageSize=10 - null null
2024-09-11 08:33:12.773 +07:00 [DBG] No candidates found for the request path '/Users'
2024-09-11 08:33:12.773 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:33:12.773 +07:00 [DBG] The request path  does not match the path filter
2024-09-11 08:33:12.773 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:33:12.773 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:33:12.773 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:33:12.774 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:33:12.774 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:33:12.774 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:33:12.775 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:33:12.776 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:33:12.776 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:33:12.776 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:33:12.776 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:33:12.776 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:33:12.777 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:33:12.777 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:33:12.777 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:33:12.777 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:33:12.777 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:33:12.777 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:33:12.777 +07:00 [DBG] Connection id "0HN6HTPGEEQOU" completed keep alive response.
2024-09-11 08:33:12.777 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:33:12.777 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:33:12.778 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:33:12.778 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/Users?page=1&pageSize=10 - 404 0 null 4.863ms
2024-09-11 08:33:12.778 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5245/Users, Response status code: 404
2024-09-11 08:33:15.460 +07:00 [DBG] Connection id "0HN6HTPGEEQOU" received FIN.
2024-09-11 08:33:15.460 +07:00 [DBG] Connection id "0HN6HTPGEEQOU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:33:15.460 +07:00 [DBG] Connection id "0HN6HTPGEEQOU" disconnecting.
2024-09-11 08:33:15.461 +07:00 [DBG] Connection id "0HN6HTPGEEQOU" stopped.
2024-09-11 08:33:59.638 +07:00 [DBG] Connection id "0HN6HTPGEEQOV" accepted.
2024-09-11 08:33:59.643 +07:00 [DBG] Connection id "0HN6HTPGEEQOV" started.
2024-09-11 08:33:59.644 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/Users?page=1&pageSize=10 - null null
2024-09-11 08:33:59.644 +07:00 [DBG] No candidates found for the request path '/Users'
2024-09-11 08:33:59.644 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:33:59.644 +07:00 [DBG] OPTIONS requests are not supported
2024-09-11 08:33:59.645 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:33:59.645 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:33:59.645 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:33:59.645 +07:00 [DBG] Connection id "0HN6HTPGEEQOV" completed keep alive response.
2024-09-11 08:33:59.645 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/Users?page=1&pageSize=10 - 204 null null 1.7047ms
2024-09-11 08:33:59.649 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/Users?page=1&pageSize=10 - null null
2024-09-11 08:33:59.650 +07:00 [DBG] No candidates found for the request path '/Users'
2024-09-11 08:33:59.650 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:33:59.652 +07:00 [DBG] The request path  does not match the path filter
2024-09-11 08:33:59.653 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:33:59.653 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:33:59.656 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:33:59.661 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:33:59.663 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:33:59.664 +07:00 [DBG] Created DbConnection. (1ms).
2024-09-11 08:33:59.664 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:33:59.664 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:33:59.665 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:33:59.665 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:33:59.665 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:33:59.665 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:33:59.668 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:33:59.669 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:33:59.669 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:33:59.669 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2024-09-11 08:33:59.669 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:33:59.669 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:33:59.670 +07:00 [DBG] Connection id "0HN6HTPGEEQOV" completed keep alive response.
2024-09-11 08:33:59.670 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:33:59.670 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:33:59.670 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:33:59.670 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/Users?page=1&pageSize=10 - 404 0 null 21.0355ms
2024-09-11 08:33:59.670 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5245/Users, Response status code: 404
2024-09-11 08:34:00.470 +07:00 [DBG] Connection id "0HN6HTPGEEQOV" received FIN.
2024-09-11 08:34:00.470 +07:00 [DBG] Connection id "0HN6HTPGEEQOV" disconnecting.
2024-09-11 08:34:00.470 +07:00 [DBG] Connection id "0HN6HTPGEEQOV" stopped.
2024-09-11 08:34:00.471 +07:00 [DBG] Connection id "0HN6HTPGEEQOV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:34:00.957 +07:00 [DBG] Connection id "0HN6HTPGEEQP0" accepted.
2024-09-11 08:34:00.958 +07:00 [DBG] Connection id "0HN6HTPGEEQP0" started.
2024-09-11 08:34:00.958 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/Users?page=1&pageSize=10 - null null
2024-09-11 08:34:00.958 +07:00 [DBG] No candidates found for the request path '/Users'
2024-09-11 08:34:00.958 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:34:00.958 +07:00 [DBG] The request path  does not match the path filter
2024-09-11 08:34:00.958 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:34:00.958 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:34:00.959 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:34:00.960 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:34:00.961 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:34:00.961 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:34:00.961 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:00.961 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:00.961 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:34:00.961 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:34:00.961 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:34:00.962 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:34:00.964 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:34:00.965 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:34:00.965 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:00.965 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2024-09-11 08:34:00.965 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:00.966 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:34:00.966 +07:00 [DBG] Connection id "0HN6HTPGEEQP0" completed keep alive response.
2024-09-11 08:34:00.966 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:34:00.966 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:00.966 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:34:00.966 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/Users?page=1&pageSize=10 - 404 0 null 8.4358ms
2024-09-11 08:34:00.967 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5245/Users, Response status code: 404
2024-09-11 08:34:05.472 +07:00 [DBG] Connection id "0HN6HTPGEEQP0" received FIN.
2024-09-11 08:34:05.472 +07:00 [DBG] Connection id "0HN6HTPGEEQP0" disconnecting.
2024-09-11 08:34:05.472 +07:00 [DBG] Connection id "0HN6HTPGEEQP0" stopped.
2024-09-11 08:34:05.473 +07:00 [DBG] Connection id "0HN6HTPGEEQP0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:34:13.767 +07:00 [DBG] Connection id "0HN6HTPGEEQP1" accepted.
2024-09-11 08:34:13.768 +07:00 [DBG] Connection id "0HN6HTPGEEQP1" started.
2024-09-11 08:34:13.768 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/Users?page=1&pageSize=10 - null null
2024-09-11 08:34:13.768 +07:00 [DBG] No candidates found for the request path '/Users'
2024-09-11 08:34:13.768 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:34:13.768 +07:00 [DBG] OPTIONS requests are not supported
2024-09-11 08:34:13.769 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:34:13.769 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:34:13.769 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:34:13.769 +07:00 [DBG] Connection id "0HN6HTPGEEQP1" completed keep alive response.
2024-09-11 08:34:13.769 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/Users?page=1&pageSize=10 - 204 null null 1.2622ms
2024-09-11 08:34:13.771 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/Users?page=1&pageSize=10 - null null
2024-09-11 08:34:13.772 +07:00 [DBG] No candidates found for the request path '/Users'
2024-09-11 08:34:13.772 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:34:13.775 +07:00 [DBG] The request path  does not match the path filter
2024-09-11 08:34:13.775 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:34:13.775 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:34:13.776 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:34:13.779 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:34:13.785 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:34:13.785 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:34:13.785 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:13.785 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:13.786 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:34:13.786 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:34:13.786 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:34:13.787 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:34:13.790 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:34:13.791 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:34:13.792 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:13.792 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2024-09-11 08:34:13.792 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:13.792 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:34:13.793 +07:00 [DBG] Connection id "0HN6HTPGEEQP1" completed keep alive response.
2024-09-11 08:34:13.793 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:34:13.793 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:13.793 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:34:13.793 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/Users?page=1&pageSize=10 - 404 0 null 22.3437ms
2024-09-11 08:34:13.794 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5245/Users, Response status code: 404
2024-09-11 08:34:15.472 +07:00 [DBG] Connection id "0HN6HTPGEEQP1" received FIN.
2024-09-11 08:34:15.473 +07:00 [DBG] Connection id "0HN6HTPGEEQP1" disconnecting.
2024-09-11 08:34:15.473 +07:00 [DBG] Connection id "0HN6HTPGEEQP1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:34:15.473 +07:00 [DBG] Connection id "0HN6HTPGEEQP1" stopped.
2024-09-11 08:34:31.616 +07:00 [DBG] Connection id "0HN6HTPGEEQP2" accepted.
2024-09-11 08:34:31.616 +07:00 [DBG] Connection id "0HN6HTPGEEQP2" started.
2024-09-11 08:34:31.616 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/Users?page=1&pageSize=10 - null null
2024-09-11 08:34:31.617 +07:00 [DBG] No candidates found for the request path '/Users'
2024-09-11 08:34:31.617 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:34:31.617 +07:00 [DBG] OPTIONS requests are not supported
2024-09-11 08:34:31.617 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:34:31.617 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:34:31.617 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:34:31.617 +07:00 [DBG] Connection id "0HN6HTPGEEQP2" completed keep alive response.
2024-09-11 08:34:31.618 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/Users?page=1&pageSize=10 - 204 null null 1.1361ms
2024-09-11 08:34:31.619 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/Users?page=1&pageSize=10 - null null
2024-09-11 08:34:31.619 +07:00 [DBG] No candidates found for the request path '/Users'
2024-09-11 08:34:31.619 +07:00 [DBG] Request did not match any endpoints
2024-09-11 08:34:31.619 +07:00 [DBG] The request path  does not match the path filter
2024-09-11 08:34:31.619 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:34:31.619 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:34:31.619 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:34:31.620 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:34:31.620 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:34:31.620 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:34:31.620 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:31.620 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:31.620 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:34:31.620 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:34:31.620 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:34:31.620 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:34:31.621 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:34:31.621 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:34:31.621 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:31.621 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:34:31.621 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:31.621 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:34:31.621 +07:00 [DBG] Connection id "0HN6HTPGEEQP2" completed keep alive response.
2024-09-11 08:34:31.622 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:34:31.622 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:31.622 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:34:31.622 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/Users?page=1&pageSize=10 - 404 0 null 3.2398ms
2024-09-11 08:34:31.622 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5245/Users, Response status code: 404
2024-09-11 08:34:35.482 +07:00 [DBG] Connection id "0HN6HTPGEEQP2" received FIN.
2024-09-11 08:34:35.484 +07:00 [DBG] Connection id "0HN6HTPGEEQP2" disconnecting.
2024-09-11 08:34:35.484 +07:00 [DBG] Connection id "0HN6HTPGEEQP2" stopped.
2024-09-11 08:34:35.484 +07:00 [DBG] Connection id "0HN6HTPGEEQP2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:34:35.821 +07:00 [DBG] Connection id "0HN6HTPGEEQP3" accepted.
2024-09-11 08:34:35.821 +07:00 [DBG] Connection id "0HN6HTPGEEQP3" started.
2024-09-11 08:34:35.822 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10 - null null
2024-09-11 08:34:35.823 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:34:35.823 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 08:34:35.824 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:34:35.825 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:34:35.825 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:34:35.826 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:34:35.826 +07:00 [DBG] Connection id "0HN6HTPGEEQP3" completed keep alive response.
2024-09-11 08:34:35.827 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10 - 204 null null 4.2604ms
2024-09-11 08:34:35.832 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10 - null null
2024-09-11 08:34:35.832 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:34:35.833 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:34:35.833 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:34:35.834 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:34:35.834 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:34:35.835 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:34:35.839 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:34:35.845 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:34:35.846 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:34:35.847 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:34:35.847 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:35.848 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:35.848 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:34:35.849 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:34:35.849 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:34:35.849 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:34:35.853 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:34:35.854 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:34:35.855 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:35.855 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2024-09-11 08:34:35.855 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:35.855 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:34:35.856 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:34:35.856 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:34:35.857 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:34:35.857 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:34:35.857 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:34:35.859 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:34:35.859 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:34:35.864 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:35.865 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:35.865 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:34:35.865 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:34:35.865 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:34:35.865 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:34:35.913 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:34:35.914 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:34:35.915 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:35.915 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2024-09-11 08:34:35.915 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:35.915 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:34:35.916 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:34:35.917 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:34:35.918 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:34:35.919 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:34:35.919 +07:00 [DBG] Could not find a value in the request with name 'keyword' for binding parameter 'keyword' of type 'System.String'.
2024-09-11 08:34:35.920 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:34:35.920 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:34:35.920 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:34:35.920 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:34:35.920 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:34:35.920 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:34:35.920 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:34:35.920 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:34:35.920 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:34:35.920 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:34:35.920 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:34:35.922 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:34:35.923 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:34:35.923 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:34:35.923 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:34:35.923 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:34:35.923 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:34:35.923 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:34:35.923 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:34:35.923 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:34:35.923 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:34:35.924 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:34:35.924 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:34:35.924 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:34:35.924 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:34:35.924 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:34:35.925 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:34:35.925 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:34:35.925 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:34:35.926 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:34:35.926 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:34:35.926 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:34:35.926 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:34:35.926 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:34:35.926 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:34:35.927 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:34:35.927 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:34:35.927 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:34:35.927 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:34:35.927 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:34:35.927 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:34:35.928 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:34:35.928 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:34:35.928 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:34:35.932 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:35.932 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:35.932 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:34:35.932 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:34:35.933 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:34:35.933 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:34:35.936 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:34:35.936 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:35.936 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:34:35.936 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:35.937 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:34:35.937 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:35.937 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:35.937 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:34:35.937 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:34:35.937 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:34:35.937 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:34:35.940 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:34:35.941 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:35.941 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:34:35.941 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:35.941 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:34:35.942 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:34:35.942 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:34:35.942 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:34:35.942 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:34:35.942 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:34:35.942 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:34:35.955 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 95.1014ms
2024-09-11 08:34:35.955 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:34:35.968 +07:00 [DBG] Connection id "0HN6HTPGEEQP3" completed keep alive response.
2024-09-11 08:34:35.969 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:34:35.970 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:34:35.970 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:34:35.970 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10 - 200 null application/json; charset=utf-8 138.8221ms
2024-09-11 08:34:40.483 +07:00 [DBG] Connection id "0HN6HTPGEEQP3" received FIN.
2024-09-11 08:34:40.483 +07:00 [DBG] Connection id "0HN6HTPGEEQP3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:34:40.483 +07:00 [DBG] Connection id "0HN6HTPGEEQP3" disconnecting.
2024-09-11 08:34:40.483 +07:00 [DBG] Connection id "0HN6HTPGEEQP3" stopped.
2024-09-11 08:35:16.961 +07:00 [DBG] Connection id "0HN6HTPGEEQP4" accepted.
2024-09-11 08:35:16.962 +07:00 [DBG] Connection id "0HN6HTPGEEQP4" started.
2024-09-11 08:35:16.963 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10 - null null
2024-09-11 08:35:16.963 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:35:16.964 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 08:35:16.964 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:35:16.964 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:35:16.964 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:35:16.964 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:35:16.964 +07:00 [DBG] Connection id "0HN6HTPGEEQP4" completed keep alive response.
2024-09-11 08:35:16.965 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10 - 204 null null 1.3663ms
2024-09-11 08:35:16.966 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10 - null null
2024-09-11 08:35:16.966 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:35:16.967 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:35:16.967 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:35:16.968 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:35:16.968 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:35:16.968 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:35:16.970 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:35:16.979 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:35:16.994 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:35:16.995 +07:00 [DBG] Created DbConnection. (11ms).
2024-09-11 08:35:16.995 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:16.995 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:16.995 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:35:16.996 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:16.996 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:16.996 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:35:16.998 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:35:16.999 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:35:16.999 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:16.999 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:35:16.999 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:16.999 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:16.999 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:35:17.000 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:35:17.000 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:35:17.000 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:35:17.000 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:35:17.000 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:35:17.000 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:35:17.001 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:17.001 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:17.001 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:35:17.001 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:17.001 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:17.001 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:35:17.002 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:35:17.003 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:35:17.003 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:17.003 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:35:17.003 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:17.003 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:17.003 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:35:17.003 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:35:17.004 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:35:17.004 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:35:17.004 +07:00 [DBG] Could not find a value in the request with name 'keyword' for binding parameter 'keyword' of type 'System.String'.
2024-09-11 08:35:17.004 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:35:17.005 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:35:17.005 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:35:17.005 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:35:17.005 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:35:17.005 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:35:17.005 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:35:17.005 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:35:17.005 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:35:17.006 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:35:17.006 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:35:17.006 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:35:17.006 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:35:17.006 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:35:17.006 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:35:17.006 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:35:17.006 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:35:17.006 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:35:17.006 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:35:17.006 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:35:17.006 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:35:17.006 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:35:17.006 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:35:17.006 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:35:17.006 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:35:17.006 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:35:17.007 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:35:17.007 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:35:17.007 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:35:17.007 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:35:17.007 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:35:17.007 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:35:17.007 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:35:17.008 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:35:17.008 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:35:17.008 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:35:17.008 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:35:17.008 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:35:17.008 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:35:17.008 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:35:17.008 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:35:17.009 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:35:17.009 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:35:17.009 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:35:17.012 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:17.012 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:17.012 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:35:17.012 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:17.012 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:17.012 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:35:17.014 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:35:17.014 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:17.014 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:35:17.014 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:17.014 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:17.014 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:17.014 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:17.014 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:35:17.014 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:17.014 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:17.014 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:35:17.015 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:35:17.015 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:17.015 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:35:17.015 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:17.015 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:17.015 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:35:17.016 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:35:17.016 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:35:17.016 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:35:17.016 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:35:17.016 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:35:17.017 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 16.3954ms
2024-09-11 08:35:17.017 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:35:17.017 +07:00 [DBG] Connection id "0HN6HTPGEEQP4" completed keep alive response.
2024-09-11 08:35:17.017 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:35:17.017 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:17.017 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:17.017 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10 - 200 null application/json; charset=utf-8 51.3398ms
2024-09-11 08:35:20.491 +07:00 [DBG] Connection id "0HN6HTPGEEQP4" received FIN.
2024-09-11 08:35:20.491 +07:00 [DBG] Connection id "0HN6HTPGEEQP4" disconnecting.
2024-09-11 08:35:20.492 +07:00 [DBG] Connection id "0HN6HTPGEEQP4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:35:20.493 +07:00 [DBG] Connection id "0HN6HTPGEEQP4" stopped.
2024-09-11 08:35:20.973 +07:00 [DBG] Connection id "0HN6HTPGEEQP5" accepted.
2024-09-11 08:35:20.974 +07:00 [DBG] Connection id "0HN6HTPGEEQP5" started.
2024-09-11 08:35:20.977 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10 - null null
2024-09-11 08:35:20.977 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:35:20.977 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:35:20.977 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:35:20.978 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:35:20.978 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:35:20.978 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:35:20.979 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:35:20.982 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:35:20.983 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:35:20.983 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:35:20.983 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:20.983 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:20.984 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:35:20.984 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:20.984 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:20.984 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:35:20.985 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:35:20.986 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:35:20.986 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:20.987 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:35:20.987 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:20.987 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:20.987 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:35:20.987 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:35:20.987 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:35:20.987 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:35:20.987 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:35:20.988 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:35:20.988 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:35:20.988 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:20.988 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:20.988 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:35:20.988 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:20.988 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:20.989 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:35:20.990 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:35:20.990 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:35:20.991 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:20.991 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:35:20.991 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:20.991 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:20.991 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:35:20.991 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:35:20.991 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:35:20.991 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:35:20.991 +07:00 [DBG] Could not find a value in the request with name 'keyword' for binding parameter 'keyword' of type 'System.String'.
2024-09-11 08:35:20.991 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:35:20.991 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:35:20.991 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:35:20.992 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:35:20.992 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:35:20.992 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:35:20.992 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:35:20.992 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:35:20.992 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:35:20.992 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:35:20.992 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:35:20.992 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:35:20.992 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:35:20.992 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:35:20.992 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:35:20.992 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:35:20.992 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:35:20.992 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:35:20.992 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:35:20.992 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:35:20.992 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:35:20.993 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:35:20.993 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:35:20.993 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:35:20.993 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:35:20.993 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:35:20.993 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:35:20.993 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:35:20.994 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:35:20.994 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:35:20.994 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:35:20.994 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:35:20.994 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:35:20.994 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:35:20.994 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:35:20.994 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:35:20.994 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:35:20.995 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:35:20.995 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:35:20.995 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:35:20.995 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:35:20.995 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:35:20.995 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:35:20.995 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:35:20.995 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:20.995 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:20.995 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:35:20.995 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:20.995 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:20.995 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:35:20.996 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:35:20.996 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:20.996 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:35:20.997 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:20.997 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:20.997 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:20.997 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:20.997 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:35:20.997 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:20.997 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:20.997 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:35:20.998 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:35:20.998 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:20.998 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:35:20.998 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:20.998 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:20.999 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:35:20.999 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:35:20.999 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:35:20.999 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:35:20.999 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:35:20.999 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:35:20.999 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 11.3157ms
2024-09-11 08:35:20.999 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:35:20.999 +07:00 [DBG] Connection id "0HN6HTPGEEQP5" completed keep alive response.
2024-09-11 08:35:20.999 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:35:20.999 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:21.000 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:21.000 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10 - 200 null application/json; charset=utf-8 23.2599ms
2024-09-11 08:35:25.491 +07:00 [DBG] Connection id "0HN6HTPGEEQP5" received FIN.
2024-09-11 08:35:25.492 +07:00 [DBG] Connection id "0HN6HTPGEEQP5" disconnecting.
2024-09-11 08:35:25.492 +07:00 [DBG] Connection id "0HN6HTPGEEQP5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:35:25.493 +07:00 [DBG] Connection id "0HN6HTPGEEQP5" stopped.
2024-09-11 08:35:27.482 +07:00 [DBG] Connection id "0HN6HTPGEEQP6" accepted.
2024-09-11 08:35:27.482 +07:00 [DBG] Connection id "0HN6HTPGEEQP6" started.
2024-09-11 08:35:27.483 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=20 - null null
2024-09-11 08:35:27.483 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:35:27.483 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 08:35:27.484 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:35:27.484 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:35:27.484 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:35:27.484 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:35:27.484 +07:00 [DBG] Connection id "0HN6HTPGEEQP6" completed keep alive response.
2024-09-11 08:35:27.484 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=20 - 204 null null 1.4862ms
2024-09-11 08:35:27.486 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=20 - null null
2024-09-11 08:35:27.486 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:35:27.487 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:35:27.487 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:35:27.487 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:35:27.487 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:35:27.487 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:35:27.488 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:35:27.490 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:35:27.490 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:35:27.491 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:35:27.491 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:27.491 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:27.491 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:35:27.491 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:27.491 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:27.491 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:35:27.492 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:35:27.492 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:35:27.492 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:27.492 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:35:27.492 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:27.492 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:27.492 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:35:27.493 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:35:27.493 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:35:27.493 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:35:27.493 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:35:27.493 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:35:27.493 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:35:27.493 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:27.493 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:27.493 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:35:27.493 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:27.494 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:27.494 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:35:27.494 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:35:27.494 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:35:27.494 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:27.494 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:35:27.494 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:27.494 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:27.494 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:35:27.495 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:35:27.495 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:35:27.495 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:35:27.495 +07:00 [DBG] Could not find a value in the request with name 'keyword' for binding parameter 'keyword' of type 'System.String'.
2024-09-11 08:35:27.495 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:35:27.495 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:35:27.495 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:35:27.495 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:35:27.495 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:35:27.495 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:35:27.495 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:35:27.495 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:35:27.495 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:35:27.495 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:35:27.495 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:35:27.495 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:35:27.495 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:35:27.495 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:35:27.495 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:35:27.495 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:35:27.495 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:35:27.495 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:35:27.495 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:35:27.495 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:35:27.495 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:35:27.496 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:35:27.496 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:35:27.496 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:35:27.496 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:35:27.496 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:35:27.496 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:35:27.496 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:35:27.496 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:35:27.496 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:35:27.496 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:35:27.496 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:35:27.496 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:35:27.496 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:35:27.496 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:35:27.496 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:35:27.496 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:35:27.496 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:35:27.496 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:35:27.496 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:35:27.496 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:35:27.496 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:35:27.496 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:35:27.496 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:35:27.497 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:27.497 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:27.497 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:35:27.497 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:27.497 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:27.498 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:35:27.499 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:35:27.500 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:27.500 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:35:27.500 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:27.500 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:27.500 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:27.500 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:27.500 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:35:27.500 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:27.500 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:27.500 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:35:27.501 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:35:27.501 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:27.501 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:35:27.501 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:27.501 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:27.501 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:35:27.501 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:35:27.502 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:35:27.502 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:35:27.502 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:35:27.502 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:35:27.502 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 8.9742ms
2024-09-11 08:35:27.502 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:35:27.502 +07:00 [DBG] Connection id "0HN6HTPGEEQP6" completed keep alive response.
2024-09-11 08:35:27.502 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:35:27.502 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:27.502 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:27.503 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=20 - 200 null application/json; charset=utf-8 16.3465ms
2024-09-11 08:35:28.775 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=50 - null null
2024-09-11 08:35:28.775 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:35:28.776 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 08:35:28.776 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:35:28.776 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:35:28.776 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:35:28.776 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:35:28.776 +07:00 [DBG] Connection id "0HN6HTPGEEQP6" completed keep alive response.
2024-09-11 08:35:28.776 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=50 - 204 null null 1.0514ms
2024-09-11 08:35:28.778 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=50 - null null
2024-09-11 08:35:28.779 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:35:28.779 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:35:28.779 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:35:28.779 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:35:28.779 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:35:28.779 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:35:28.779 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:35:28.780 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:35:28.781 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:35:28.782 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:35:28.782 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:28.784 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:28.785 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:35:28.785 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:28.785 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:28.785 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:35:28.786 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:35:28.786 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:35:28.786 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:28.786 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:35:28.786 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:28.786 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:28.787 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:35:28.787 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:35:28.787 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:35:28.787 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:35:28.787 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:35:28.787 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:35:28.787 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:35:28.788 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:28.788 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:28.788 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:35:28.788 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:28.788 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:28.788 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:35:28.789 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:35:28.789 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:35:28.790 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:28.790 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:35:28.790 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:28.790 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:28.790 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:35:28.790 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:35:28.790 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:35:28.790 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:35:28.790 +07:00 [DBG] Could not find a value in the request with name 'keyword' for binding parameter 'keyword' of type 'System.String'.
2024-09-11 08:35:28.790 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:35:28.790 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:35:28.790 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:35:28.790 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:35:28.790 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:35:28.791 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:35:28.791 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:35:28.791 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:35:28.791 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:35:28.791 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:35:28.791 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:35:28.791 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:35:28.791 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:35:28.791 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:35:28.791 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:35:28.791 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:35:28.791 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:35:28.791 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:35:28.791 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:35:28.792 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:35:28.792 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:35:28.792 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:35:28.792 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:35:28.792 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:35:28.793 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:35:28.793 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:35:28.793 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:35:28.793 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:35:28.793 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:35:28.793 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:35:28.793 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:35:28.793 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:35:28.793 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:35:28.793 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:35:28.793 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:35:28.794 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:35:28.794 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:35:28.794 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:35:28.794 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:35:28.794 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:35:28.794 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:35:28.794 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:35:28.794 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:35:28.794 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:35:28.794 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:28.795 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:28.795 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:35:28.795 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:28.795 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:28.795 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:35:28.795 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:35:28.796 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:28.796 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:35:28.796 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:28.796 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:28.796 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:28.796 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:28.796 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:35:28.797 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:28.797 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:35:28.797 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:35:28.798 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:35:28.798 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:28.799 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:35:28.799 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:28.799 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:28.799 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:35:28.799 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:35:28.799 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:35:28.799 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:35:28.799 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:35:28.799 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:35:28.799 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 12.0705ms
2024-09-11 08:35:28.799 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:35:28.799 +07:00 [DBG] Connection id "0HN6HTPGEEQP6" completed keep alive response.
2024-09-11 08:35:28.799 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:35:28.800 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:35:28.800 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:35:28.800 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=50 - 200 null application/json; charset=utf-8 21.6116ms
2024-09-11 08:35:30.492 +07:00 [DBG] Connection id "0HN6HTPGEEQP6" received FIN.
2024-09-11 08:35:30.492 +07:00 [DBG] Connection id "0HN6HTPGEEQP6" disconnecting.
2024-09-11 08:35:30.493 +07:00 [DBG] Connection id "0HN6HTPGEEQP6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:35:30.493 +07:00 [DBG] Connection id "0HN6HTPGEEQP6" stopped.
2024-09-11 08:36:12.714 +07:00 [DBG] Connection id "0HN6HTPGEEQP7" accepted.
2024-09-11 08:36:12.715 +07:00 [DBG] Connection id "0HN6HTPGEEQP7" started.
2024-09-11 08:36:12.716 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10 - null null
2024-09-11 08:36:12.717 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:36:12.717 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 08:36:12.718 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:36:12.718 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:36:12.718 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:36:12.718 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:36:12.719 +07:00 [DBG] Connection id "0HN6HTPGEEQP7" completed keep alive response.
2024-09-11 08:36:12.719 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10 - 204 null null 2.4157ms
2024-09-11 08:36:12.725 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10 - null null
2024-09-11 08:36:12.726 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:36:12.726 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:36:12.726 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:12.727 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:36:12.727 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:36:12.727 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:36:12.728 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:36:12.731 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:36:12.732 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:36:12.732 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:36:12.732 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:12.732 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:12.733 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:12.733 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:12.733 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:12.733 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:36:12.734 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:36:12.735 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:36:12.735 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:12.735 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:12.735 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:12.735 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:12.736 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:12.736 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:36:12.737 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:36:12.737 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:36:12.737 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:36:12.737 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:36:12.737 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:36:12.739 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:12.739 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:12.739 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:12.739 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:12.739 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:12.739 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:36:12.740 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:36:12.740 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:36:12.740 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:12.740 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:12.740 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:12.740 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:12.740 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:36:12.741 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:36:12.741 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:36:12.741 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:36:12.741 +07:00 [DBG] Could not find a value in the request with name 'keyword' for binding parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:12.741 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:12.741 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:12.741 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:36:12.742 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:12.742 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:36:12.742 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:36:12.742 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:12.742 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:12.742 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:12.742 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:36:12.742 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:12.742 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:36:12.742 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:36:12.742 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:12.742 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:12.742 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:12.742 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:36:12.742 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:12.742 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:36:12.742 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:36:12.742 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:12.743 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:12.743 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:12.743 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:36:12.743 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:12.743 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:36:12.743 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:36:12.743 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:12.743 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:12.743 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:36:12.743 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:12.743 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:36:12.743 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:36:12.743 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:36:12.743 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:36:12.743 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:36:12.743 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:36:12.743 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:36:12.743 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:36:12.743 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:36:12.743 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:12.743 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:12.743 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:36:12.744 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:12.744 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:12.744 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:12.744 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:12.744 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:12.744 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:12.744 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:36:12.745 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:36:12.745 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:12.745 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:12.745 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:12.745 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:12.745 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:12.746 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:12.746 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:12.747 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:12.747 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-11 08:36:12.747 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:36:12.748 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:36:12.749 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:12.749 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:12.749 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:12.749 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:12.749 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:36:12.749 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:36:12.749 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:36:12.749 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:36:12.749 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:36:12.749 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:36:12.750 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 12.4045ms
2024-09-11 08:36:12.750 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:12.750 +07:00 [DBG] Connection id "0HN6HTPGEEQP7" completed keep alive response.
2024-09-11 08:36:12.750 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:36:12.750 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:12.750 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:12.750 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10 - 200 null application/json; charset=utf-8 25.1786ms
2024-09-11 08:36:15.500 +07:00 [DBG] Connection id "0HN6HTPGEEQP7" received FIN.
2024-09-11 08:36:15.501 +07:00 [DBG] Connection id "0HN6HTPGEEQP7" disconnecting.
2024-09-11 08:36:15.501 +07:00 [DBG] Connection id "0HN6HTPGEEQP7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:36:15.502 +07:00 [DBG] Connection id "0HN6HTPGEEQP7" stopped.
2024-09-11 08:36:21.458 +07:00 [DBG] Connection id "0HN6HTPGEEQP8" accepted.
2024-09-11 08:36:21.459 +07:00 [DBG] Connection id "0HN6HTPGEEQP8" started.
2024-09-11 08:36:21.459 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10 - null null
2024-09-11 08:36:21.459 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:36:21.459 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 08:36:21.459 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:36:21.459 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:36:21.459 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:36:21.459 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:36:21.460 +07:00 [DBG] Connection id "0HN6HTPGEEQP8" completed keep alive response.
2024-09-11 08:36:21.460 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10 - 204 null null 0.774ms
2024-09-11 08:36:21.461 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10 - null null
2024-09-11 08:36:21.461 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:36:21.461 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:36:21.461 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:21.462 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:36:21.462 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:36:21.462 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:36:21.462 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:36:21.463 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:36:21.464 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:36:21.464 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:36:21.464 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:21.464 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:21.465 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:21.465 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:21.465 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:21.465 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:36:21.466 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:36:21.467 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:36:21.467 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:21.467 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:21.467 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:21.467 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:21.467 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:21.468 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:36:21.468 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:36:21.468 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:36:21.468 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:36:21.468 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:36:21.468 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:36:21.468 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:21.469 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:21.469 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:21.469 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:21.469 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:21.469 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:36:21.470 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:36:21.470 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:36:21.470 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:21.470 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:21.470 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:21.470 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:21.470 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:36:21.471 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:36:21.471 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:36:21.471 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:36:21.471 +07:00 [DBG] Could not find a value in the request with name 'keyword' for binding parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:21.471 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:21.472 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:21.472 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:36:21.472 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:21.472 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:36:21.472 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:36:21.472 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:21.472 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:21.472 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:21.472 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:36:21.472 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:21.472 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:36:21.472 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:36:21.472 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:21.472 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:21.473 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:21.473 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:36:21.473 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:21.473 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:36:21.473 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:36:21.473 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:21.473 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:21.473 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:21.473 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:36:21.473 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:21.473 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:36:21.473 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:36:21.473 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:21.473 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:21.473 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:36:21.473 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:21.473 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:36:21.473 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:36:21.473 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:36:21.473 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:36:21.473 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:36:21.473 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:36:21.473 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:36:21.473 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:36:21.473 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:36:21.473 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:21.473 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:21.473 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:36:21.473 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:21.474 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:21.474 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:21.474 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:21.474 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:21.474 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:21.474 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:36:21.475 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:36:21.476 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:21.476 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:21.476 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:21.476 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:21.476 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:21.476 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:21.476 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:21.477 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:21.477 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:21.477 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:36:21.477 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:36:21.478 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:21.478 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:21.478 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:21.478 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:21.478 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:36:21.478 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:36:21.478 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:36:21.478 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:36:21.478 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:36:21.478 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:36:21.478 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 10.4465ms
2024-09-11 08:36:21.479 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:21.479 +07:00 [DBG] Connection id "0HN6HTPGEEQP8" completed keep alive response.
2024-09-11 08:36:21.479 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:36:21.479 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:21.479 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:21.479 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10 - 200 null application/json; charset=utf-8 18.2266ms
2024-09-11 08:36:25.507 +07:00 [DBG] Connection id "0HN6HTPGEEQP8" received FIN.
2024-09-11 08:36:25.510 +07:00 [DBG] Connection id "0HN6HTPGEEQP8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:36:25.511 +07:00 [DBG] Connection id "0HN6HTPGEEQP8" disconnecting.
2024-09-11 08:36:25.511 +07:00 [DBG] Connection id "0HN6HTPGEEQP8" stopped.
2024-09-11 08:36:26.003 +07:00 [DBG] Connection id "0HN6HTPGEEQP9" accepted.
2024-09-11 08:36:26.003 +07:00 [DBG] Connection id "0HN6HTPGEEQP9" started.
2024-09-11 08:36:26.004 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10 - null null
2024-09-11 08:36:26.004 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:36:26.005 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:36:26.005 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:26.006 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:36:26.006 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:36:26.006 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:36:26.007 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:36:26.010 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:36:26.011 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:36:26.012 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:36:26.012 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:26.012 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:26.013 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:26.013 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:26.013 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:26.013 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:36:26.017 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:36:26.018 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:36:26.019 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:26.019 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2024-09-11 08:36:26.019 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:26.019 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:26.019 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:26.020 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:36:26.020 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:36:26.020 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:36:26.021 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:36:26.021 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:36:26.021 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:36:26.022 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:26.023 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:26.023 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:26.023 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:26.023 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:26.023 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:36:26.025 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:36:26.026 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:36:26.026 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:26.026 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:26.026 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:26.026 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:26.026 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:36:26.026 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:36:26.027 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:36:26.027 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:36:26.027 +07:00 [DBG] Could not find a value in the request with name 'keyword' for binding parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:26.028 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:26.028 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:26.028 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:36:26.028 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:26.028 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:36:26.029 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:36:26.029 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:26.029 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:26.029 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:26.029 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:36:26.029 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:26.029 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:36:26.029 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:36:26.029 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:26.030 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:26.030 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:26.030 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:36:26.030 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:26.030 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:36:26.030 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:36:26.030 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:26.030 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:26.030 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:26.030 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:36:26.031 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:26.031 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:36:26.032 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:36:26.032 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:26.032 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:26.032 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:36:26.032 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:26.032 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:36:26.032 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:36:26.032 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:36:26.032 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:36:26.032 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:36:26.032 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:36:26.033 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:36:26.033 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:36:26.033 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:36:26.033 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:26.033 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:26.033 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:36:26.033 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:26.035 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:26.035 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:26.035 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:26.036 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:26.036 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:26.036 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:36:26.037 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:36:26.037 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:26.037 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:26.037 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:26.037 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:26.038 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:26.038 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:26.038 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:26.038 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:26.038 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:26.038 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:36:26.040 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:36:26.041 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:26.041 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:26.041 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:26.041 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:26.041 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:36:26.041 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:36:26.041 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:36:26.041 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:36:26.041 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:36:26.041 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:36:26.042 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 20.9242ms
2024-09-11 08:36:26.042 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:26.042 +07:00 [DBG] Connection id "0HN6HTPGEEQP9" completed keep alive response.
2024-09-11 08:36:26.042 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:36:26.042 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:26.042 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:26.042 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10 - 200 null application/json; charset=utf-8 38.1593ms
2024-09-11 08:36:30.504 +07:00 [DBG] Connection id "0HN6HTPGEEQP9" received FIN.
2024-09-11 08:36:30.505 +07:00 [DBG] Connection id "0HN6HTPGEEQP9" disconnecting.
2024-09-11 08:36:30.505 +07:00 [DBG] Connection id "0HN6HTPGEEQP9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:36:30.506 +07:00 [DBG] Connection id "0HN6HTPGEEQP9" stopped.
2024-09-11 08:36:33.481 +07:00 [DBG] Connection id "0HN6HTPGEEQPA" accepted.
2024-09-11 08:36:33.482 +07:00 [DBG] Connection id "0HN6HTPGEEQPA" started.
2024-09-11 08:36:33.482 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10 - null null
2024-09-11 08:36:33.482 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:36:33.482 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 08:36:33.483 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:36:33.483 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:36:33.483 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:36:33.483 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:36:33.483 +07:00 [DBG] Connection id "0HN6HTPGEEQPA" completed keep alive response.
2024-09-11 08:36:33.483 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10 - 204 null null 1.1047ms
2024-09-11 08:36:33.487 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10 - null null
2024-09-11 08:36:33.487 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:36:33.487 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:36:33.490 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:33.491 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:36:33.491 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:36:33.491 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:36:33.492 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:36:33.494 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:36:33.495 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:36:33.495 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:36:33.496 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:33.496 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:33.496 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:33.496 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:33.496 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:33.497 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:36:33.498 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:36:33.499 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:36:33.499 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:33.500 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2024-09-11 08:36:33.500 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:33.500 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:33.500 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:33.501 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:36:33.501 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:36:33.501 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:36:33.501 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:36:33.501 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:36:33.501 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:36:33.502 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:33.502 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:33.502 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:33.502 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:33.503 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:33.503 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:36:33.506 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:36:33.506 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:36:33.506 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:33.507 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:33.507 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:33.507 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:33.508 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:36:33.508 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:36:33.508 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:36:33.508 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:36:33.509 +07:00 [DBG] Could not find a value in the request with name 'keyword' for binding parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:33.509 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:33.509 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:33.509 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:36:33.509 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:33.509 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:36:33.509 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:36:33.509 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:33.509 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:33.509 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:33.509 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:36:33.509 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:33.509 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:36:33.509 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:36:33.510 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:33.510 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:33.510 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:33.510 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:36:33.510 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:33.510 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:36:33.510 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:36:33.510 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:33.510 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:33.510 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:33.510 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:36:33.510 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:33.510 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:36:33.510 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:36:33.510 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:33.510 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:33.510 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:36:33.510 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:33.511 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:36:33.511 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:36:33.511 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:36:33.511 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:36:33.511 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:36:33.511 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:36:33.511 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:36:33.511 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:36:33.511 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:36:33.511 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:33.511 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:33.511 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:36:33.512 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:33.513 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:33.513 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:33.513 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:33.513 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:33.513 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:33.513 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:36:33.515 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:36:33.515 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:33.516 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:33.517 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:33.517 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:33.517 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:33.517 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:33.517 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:33.517 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:33.518 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:33.518 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:36:33.519 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:36:33.519 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:33.520 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:33.520 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:33.520 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:33.520 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:36:33.521 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:36:33.521 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:36:33.521 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:36:33.521 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:36:33.522 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:36:33.522 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 20.6491ms
2024-09-11 08:36:33.522 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:33.522 +07:00 [DBG] Connection id "0HN6HTPGEEQPA" completed keep alive response.
2024-09-11 08:36:33.522 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:36:33.525 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:33.527 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:33.528 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10 - 200 null application/json; charset=utf-8 41.6055ms
2024-09-11 08:36:35.504 +07:00 [DBG] Connection id "0HN6HTPGEEQPA" received FIN.
2024-09-11 08:36:35.504 +07:00 [DBG] Connection id "0HN6HTPGEEQPA" disconnecting.
2024-09-11 08:36:35.504 +07:00 [DBG] Connection id "0HN6HTPGEEQPA" stopped.
2024-09-11 08:36:35.504 +07:00 [DBG] Connection id "0HN6HTPGEEQPA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:36:53.767 +07:00 [DBG] Connection id "0HN6HTPGEEQPB" accepted.
2024-09-11 08:36:53.769 +07:00 [DBG] Connection id "0HN6HTPGEEQPB" started.
2024-09-11 08:36:53.770 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword=test - null null
2024-09-11 08:36:53.770 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:36:53.770 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 08:36:53.771 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:36:53.771 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:36:53.771 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:36:53.771 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:36:53.772 +07:00 [DBG] Connection id "0HN6HTPGEEQPB" completed keep alive response.
2024-09-11 08:36:53.772 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword=test - 204 null null 2.3024ms
2024-09-11 08:36:53.774 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword=test - null null
2024-09-11 08:36:53.774 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:36:53.775 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:36:53.775 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:53.775 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:36:53.776 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:36:53.776 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:36:53.778 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:36:53.781 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:36:53.782 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:36:53.783 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:36:53.783 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:53.783 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:53.783 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:53.784 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:53.784 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:53.784 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:36:53.802 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:36:53.803 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:36:53.804 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:53.804 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2024-09-11 08:36:53.804 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:53.804 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:53.804 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:53.804 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:36:53.805 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:36:53.805 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:36:53.805 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:36:53.805 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:36:53.805 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:36:53.806 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:53.806 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:53.806 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:53.806 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:53.806 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:53.806 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:36:53.807 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:36:53.807 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:36:53.807 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:53.807 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:53.807 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:53.807 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:53.808 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:36:53.808 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:36:53.808 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:36:53.809 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:36:53.809 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:53.809 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:53.809 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:36:53.809 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:53.809 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:36:53.810 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:36:53.810 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:53.810 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:53.810 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:53.810 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:36:53.810 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:53.810 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:36:53.810 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:36:53.810 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:53.810 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:53.810 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:53.810 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:36:53.811 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:53.811 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:36:53.811 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:36:53.811 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:53.811 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:53.811 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:53.811 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:36:53.811 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:53.811 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:36:53.811 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:36:53.811 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:53.811 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:53.811 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:36:53.811 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:53.811 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:36:53.811 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:36:53.811 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:36:53.811 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:36:53.811 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:36:53.811 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:36:53.811 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:36:53.811 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:36:53.811 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:36:53.811 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:53.811 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:53.811 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:36:53.811 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:53.816 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .GroupJoin(
        inner: DbSet<Role>(), 
        outerKeySelector: user => user.RoleID, 
        innerKeySelector: role => role.RoleID, 
        resultSelector: (user, role) => new { 
            user = user, 
            role = role
         })
    .SelectMany(
        collectionSelector: x => x.role
            .DefaultIfEmpty(), 
        resultSelector: (user, role) => new { 
            user = user.user, 
            role = role
         })
    .Where(m => m.user.Email.ToLower().Contains(__ToLower_0) || m.user.UserName != null && m.user.UserName.ToLower().Contains(__ToLower_0) || m.user.Status != null && m.user.Status.ToLower().Contains(__ToLower_0) || m.user.DisplayName != null && m.user.DisplayName.ToLower().Contains(__ToLower_0))
    .OrderBy(x => x.user.UserID)
    .Select(x => new User{ 
        UserID = x.user.UserID, 
        UserName = x.user.UserName, 
        DisplayName = x.user.DisplayName, 
        Email = x.user.Email, 
        Status = x.user.Status, 
        LastLogin = x.user.LastLogin, 
        CreatedDate = x.user.CreatedDate, 
        RoleID = x.user.RoleID, 
        RoleName = x.role.RoleName 
    }
    )
    .Count()'
2024-09-11 08:36:53.826 +07:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ToLower_0_rewritten", 
        value: (object)Invoke(queryContext => NpgsqlSqlTranslatingExpressionVisitor.ConstructLikePatternParameter(
            queryContext: queryContext, 
            baseParameterName: "__ToLower_0", 
            methodType: Contains), queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: new SingleQueryingEnumerable<int>(
            (RelationalQueryContext)queryContext, 
            RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT CAST(count(*) AS integer)
                FROM master.mst_users AS m
                LEFT JOIN master.mst_role AS m0 ON m.role_id == m0.role_id
                WHERE (((lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\') || ((m.username != NULL) && (lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\'))) || ((m.status != NULL) && (lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\'))) || ((m.display_name != NULL) && (lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'))), 
            null, 
            Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
            BaseDotnet.DbContext.BaseDotnetDbContext, 
            False, 
            False, 
            True
        ), 
        cancellationToken: queryContext.CancellationToken);
}'
2024-09-11 08:36:53.828 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:53.829 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:53.829 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:53.829 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:53.829 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:53.829 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0_rewritten='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
2024-09-11 08:36:53.833 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToLower_0_rewritten='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
2024-09-11 08:36:53.833 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:53.833 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:53.833 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:53.833 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:53.833 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .GroupJoin(
        inner: DbSet<Role>(), 
        outerKeySelector: user => user.RoleID, 
        innerKeySelector: role => role.RoleID, 
        resultSelector: (user, role) => new { 
            user = user, 
            role = role
         })
    .SelectMany(
        collectionSelector: x => x.role
            .DefaultIfEmpty(), 
        resultSelector: (user, role) => new { 
            user = user.user, 
            role = role
         })
    .Where(m => m.user.Email.ToLower().Contains(__ToLower_0) || m.user.UserName != null && m.user.UserName.ToLower().Contains(__ToLower_0) || m.user.Status != null && m.user.Status.ToLower().Contains(__ToLower_0) || m.user.DisplayName != null && m.user.DisplayName.ToLower().Contains(__ToLower_0))
    .OrderBy(x => x.user.UserID)
    .Select(x => new User{ 
        UserID = x.user.UserID, 
        UserName = x.user.UserName, 
        DisplayName = x.user.DisplayName, 
        Email = x.user.Email, 
        Status = x.user.Status, 
        LastLogin = x.user.LastLogin, 
        CreatedDate = x.user.CreatedDate, 
        RoleID = x.user.RoleID, 
        RoleName = x.role.RoleName 
    }
    )
    .Skip(__p_1)
    .Take(__p_2)'
2024-09-11 08:36:53.836 +07:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ToLower_0_rewritten", 
        value: (object)Invoke(queryContext => NpgsqlSqlTranslatingExpressionVisitor.ConstructLikePatternParameter(
            queryContext: queryContext, 
            baseParameterName: "__ToLower_0", 
            methodType: Contains), queryContext));
    return new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                UserID -> 0
                UserName -> 1
                DisplayName -> 2
                Email -> 3
                Status -> 4
                LastLogin -> 5
                CreatedDate -> 6
                RoleID -> 7
                RoleName -> 8
            SELECT m.user_id AS UserID, m.username AS UserName, m.display_name AS DisplayName, m.email AS Email, m.status AS Status, m.last_login AS LastLogin, m.created_date AS CreatedDate, m.role_id AS RoleID, m0.role_name AS RoleName
            FROM master.mst_users AS m
            LEFT JOIN master.mst_role AS m0 ON m.role_id == m0.role_id
            WHERE (((lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\') || ((m.username != NULL) && (lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\'))) || ((m.status != NULL) && (lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\'))) || ((m.display_name != NULL) && (lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'))
            ORDER BY m.user_id ASC
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BaseDotnet.DbContext.BaseDotnetDbContext, 
        False, 
        False, 
        True
    );
}'
2024-09-11 08:36:53.836 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:53.836 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:53.836 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:53.836 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:53.836 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:53.836 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0_rewritten='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
ORDER BY m.user_id
LIMIT @__p_2 OFFSET @__p_1
2024-09-11 08:36:53.837 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0_rewritten='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
ORDER BY m.user_id
LIMIT @__p_2 OFFSET @__p_1
2024-09-11 08:36:53.838 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:53.838 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:53.838 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:53.838 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:53.838 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:36:53.838 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:36:53.838 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:36:53.838 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:36:53.838 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:36:53.838 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:36:53.839 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 33.7217ms
2024-09-11 08:36:53.839 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:53.839 +07:00 [DBG] Connection id "0HN6HTPGEEQPB" completed keep alive response.
2024-09-11 08:36:53.839 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:36:53.839 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:53.839 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:53.839 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword=test - 200 null application/json; charset=utf-8 65.5182ms
2024-09-11 08:36:55.384 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword= - null null
2024-09-11 08:36:55.384 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:36:55.384 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 08:36:55.384 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:36:55.384 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:36:55.384 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:36:55.384 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:36:55.384 +07:00 [DBG] Connection id "0HN6HTPGEEQPB" completed keep alive response.
2024-09-11 08:36:55.384 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword= - 204 null null 0.8839ms
2024-09-11 08:36:55.386 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword= - null null
2024-09-11 08:36:55.386 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:36:55.386 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:36:55.387 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:55.387 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:36:55.387 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:36:55.387 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:36:55.388 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:36:55.390 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:36:55.392 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:36:55.392 +07:00 [DBG] Created DbConnection. (1ms).
2024-09-11 08:36:55.393 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:55.393 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:55.393 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:55.393 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:55.394 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:55.394 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:36:55.397 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:36:55.398 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:36:55.399 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:55.399 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2024-09-11 08:36:55.399 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:55.399 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:55.400 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:55.400 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:36:55.400 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:36:55.400 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:36:55.400 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:36:55.400 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:36:55.400 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:36:55.401 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:55.401 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:55.401 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:55.401 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:55.402 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:55.402 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:36:55.409 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:36:55.409 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:36:55.409 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:55.410 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:55.410 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:55.410 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:55.410 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:36:55.410 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:36:55.410 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:36:55.410 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:36:55.410 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:55.410 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:55.411 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:36:55.412 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:55.412 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:36:55.412 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:36:55.412 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:55.412 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:55.412 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:55.412 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:36:55.412 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:55.413 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:36:55.413 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:36:55.413 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:55.413 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:55.413 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:55.413 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:36:55.413 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:55.413 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:36:55.413 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:36:55.413 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:55.413 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:55.413 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:55.413 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:36:55.414 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:55.414 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:36:55.414 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:36:55.414 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:55.414 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:55.414 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:36:55.414 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:55.414 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:36:55.414 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:36:55.414 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:36:55.414 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:36:55.414 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:36:55.414 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:36:55.414 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:36:55.414 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:36:55.414 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:36:55.414 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:55.414 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:55.414 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:36:55.414 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:55.417 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:55.417 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:55.417 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:55.417 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:55.417 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:55.417 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:36:55.418 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:36:55.419 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:55.419 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:55.419 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:55.419 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:55.419 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:55.419 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:55.420 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:55.420 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:55.420 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:55.420 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:36:55.421 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:36:55.421 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:55.422 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:55.422 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:55.422 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:55.422 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:36:55.422 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:36:55.422 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:36:55.422 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:36:55.422 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:36:55.423 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:36:55.423 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 22.4863ms
2024-09-11 08:36:55.423 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:55.423 +07:00 [DBG] Connection id "0HN6HTPGEEQPB" completed keep alive response.
2024-09-11 08:36:55.423 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:36:55.423 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:55.424 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:55.424 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword= - 200 null application/json; charset=utf-8 37.624ms
2024-09-11 08:36:55.507 +07:00 [DBG] Connection id "0HN6HTPGEEQPB" received FIN.
2024-09-11 08:36:55.507 +07:00 [DBG] Connection id "0HN6HTPGEEQPB" disconnecting.
2024-09-11 08:36:55.507 +07:00 [DBG] Connection id "0HN6HTPGEEQPB" stopped.
2024-09-11 08:36:55.507 +07:00 [DBG] Connection id "0HN6HTPGEEQPB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:36:58.396 +07:00 [DBG] Connection id "0HN6HTPGEEQPC" accepted.
2024-09-11 08:36:58.396 +07:00 [DBG] Connection id "0HN6HTPGEEQPC" started.
2024-09-11 08:36:58.396 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword=t - null null
2024-09-11 08:36:58.396 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:36:58.396 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 08:36:58.397 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:36:58.397 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:36:58.397 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:36:58.397 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:36:58.397 +07:00 [DBG] Connection id "0HN6HTPGEEQPC" completed keep alive response.
2024-09-11 08:36:58.397 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword=t - 204 null null 0.6941ms
2024-09-11 08:36:58.398 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword=t - null null
2024-09-11 08:36:58.399 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:36:58.399 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:36:58.399 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:58.399 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:36:58.399 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:36:58.399 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:36:58.400 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:36:58.401 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:36:58.402 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:36:58.403 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:36:58.403 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:58.403 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:58.403 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:58.404 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:58.404 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:58.404 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:36:58.405 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:36:58.405 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:36:58.406 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:58.406 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:58.406 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:58.406 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:58.406 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:58.406 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:36:58.406 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:36:58.406 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:36:58.406 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:36:58.406 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:36:58.407 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:36:58.407 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:58.407 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:58.407 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:58.407 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:58.407 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:58.407 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:36:58.408 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:36:58.408 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:36:58.408 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:58.408 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:58.408 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:58.408 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:58.409 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:36:58.409 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:36:58.409 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:36:58.409 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:36:58.409 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:58.410 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:58.410 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:36:58.410 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:58.410 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:36:58.410 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:36:58.410 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:58.410 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:58.410 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:58.410 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:36:58.410 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:58.410 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:36:58.411 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:36:58.411 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:58.411 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:58.411 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:58.411 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:36:58.411 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:58.411 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:36:58.411 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:36:58.411 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:58.411 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:58.411 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:58.411 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:36:58.411 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:58.411 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:36:58.412 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:36:58.412 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:58.412 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:58.412 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:36:58.412 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:58.412 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:36:58.412 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:36:58.412 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:36:58.412 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:36:58.412 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:36:58.412 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:36:58.412 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:36:58.412 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:36:58.412 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:36:58.413 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:58.413 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:58.413 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:36:58.413 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:58.413 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:58.413 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:58.413 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:58.413 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:58.413 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:58.413 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0_rewritten='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
2024-09-11 08:36:58.414 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0_rewritten='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
2024-09-11 08:36:58.414 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:58.414 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:58.415 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:58.415 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:58.415 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:58.416 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:58.416 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:58.416 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:58.416 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:58.416 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0_rewritten='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
ORDER BY m.user_id
LIMIT @__p_2 OFFSET @__p_1
2024-09-11 08:36:58.416 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0_rewritten='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
ORDER BY m.user_id
LIMIT @__p_2 OFFSET @__p_1
2024-09-11 08:36:58.416 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:58.416 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:58.417 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:58.417 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:58.417 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:36:58.417 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:36:58.417 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:36:58.417 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:36:58.417 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:36:58.417 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:36:58.417 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 10.4264ms
2024-09-11 08:36:58.417 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:58.417 +07:00 [DBG] Connection id "0HN6HTPGEEQPC" completed keep alive response.
2024-09-11 08:36:58.417 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:36:58.417 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:58.417 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:58.417 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword=t - 200 null application/json; charset=utf-8 19.0603ms
2024-09-11 08:36:59.727 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword=te - null null
2024-09-11 08:36:59.728 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:36:59.728 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 08:36:59.728 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:36:59.728 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:36:59.728 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:36:59.728 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:36:59.728 +07:00 [DBG] Connection id "0HN6HTPGEEQPC" completed keep alive response.
2024-09-11 08:36:59.728 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword=te - 204 null null 0.8186ms
2024-09-11 08:36:59.730 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword=te - null null
2024-09-11 08:36:59.730 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:36:59.731 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:36:59.731 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:59.731 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:36:59.731 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:36:59.731 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:36:59.731 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:36:59.733 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:36:59.734 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:36:59.734 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:36:59.734 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:59.734 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:59.735 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:59.735 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:59.735 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:59.735 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:36:59.736 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:36:59.737 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:36:59.737 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:59.737 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:59.737 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:59.737 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:59.738 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:59.738 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:36:59.738 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:36:59.738 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:36:59.738 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:36:59.739 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:36:59.739 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:36:59.740 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:59.740 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:59.740 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:59.740 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:59.740 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:59.740 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:36:59.741 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:36:59.741 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:36:59.741 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:59.741 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:59.741 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:59.741 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:59.742 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:36:59.742 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:36:59.742 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:36:59.742 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:36:59.742 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:59.742 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:59.742 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:36:59.742 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:36:59.742 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:36:59.742 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:36:59.742 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:59.742 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:59.742 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:59.742 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:36:59.742 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:36:59.742 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:36:59.742 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:36:59.743 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:59.743 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:59.743 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:59.743 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:36:59.743 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:36:59.743 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:36:59.744 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:36:59.744 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:59.744 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:59.744 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:59.744 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:36:59.744 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:36:59.744 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:36:59.744 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:36:59.744 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:59.744 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:59.744 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:36:59.745 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:36:59.745 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:36:59.745 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:36:59.745 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:36:59.745 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:36:59.745 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:36:59.745 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:36:59.745 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:36:59.745 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:36:59.745 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:36:59.745 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:59.745 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:59.745 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:36:59.745 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:36:59.746 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:59.746 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:59.746 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:59.746 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:59.746 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:59.746 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0_rewritten='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
2024-09-11 08:36:59.747 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0_rewritten='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
2024-09-11 08:36:59.747 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:59.747 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:59.747 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:59.747 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:59.748 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:59.748 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:59.748 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:36:59.748 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:59.748 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:36:59.749 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0_rewritten='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
ORDER BY m.user_id
LIMIT @__p_2 OFFSET @__p_1
2024-09-11 08:36:59.750 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0_rewritten='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
ORDER BY m.user_id
LIMIT @__p_2 OFFSET @__p_1
2024-09-11 08:36:59.750 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:59.750 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:36:59.750 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:59.750 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:59.750 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:36:59.750 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:36:59.750 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:36:59.750 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:36:59.750 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:36:59.750 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:36:59.751 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 11.7239ms
2024-09-11 08:36:59.751 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:36:59.751 +07:00 [DBG] Connection id "0HN6HTPGEEQPC" completed keep alive response.
2024-09-11 08:36:59.751 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:36:59.751 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:36:59.751 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:36:59.751 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword=te - 200 null application/json; charset=utf-8 20.8343ms
2024-09-11 08:37:00.509 +07:00 [DBG] Connection id "0HN6HTPGEEQPC" received FIN.
2024-09-11 08:37:00.510 +07:00 [DBG] Connection id "0HN6HTPGEEQPC" disconnecting.
2024-09-11 08:37:00.510 +07:00 [DBG] Connection id "0HN6HTPGEEQPC" stopped.
2024-09-11 08:37:00.511 +07:00 [DBG] Connection id "0HN6HTPGEEQPC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:39:37.863 +07:00 [DBG] Connection id "0HN6HTPGEEQPD" accepted.
2024-09-11 08:39:37.865 +07:00 [DBG] Connection id "0HN6HTPGEEQPD" started.
2024-09-11 08:39:37.866 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword= - null null
2024-09-11 08:39:37.867 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:39:37.867 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 08:39:37.868 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:39:37.869 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:39:37.869 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:39:37.869 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:39:37.870 +07:00 [DBG] Connection id "0HN6HTPGEEQPD" completed keep alive response.
2024-09-11 08:39:37.870 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword= - 204 null null 4.0356ms
2024-09-11 08:39:37.879 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword= - null null
2024-09-11 08:39:37.879 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:39:37.879 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:39:37.880 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:39:37.880 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:39:37.880 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:39:37.880 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:39:37.881 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:39:37.886 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:39:37.887 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:39:37.887 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:39:37.888 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:37.934 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:37.935 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:39:37.935 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:39:37.935 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:39:37.935 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:39:37.937 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:39:37.938 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:39:37.938 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:37.938 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2024-09-11 08:39:37.938 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:37.939 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:39:37.939 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:39:37.939 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:39:37.939 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:39:37.939 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:39:37.940 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:39:37.940 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:39:37.940 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:39:37.941 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:37.941 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:37.941 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:39:37.941 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:39:37.942 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:39:37.942 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:39:37.944 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:39:37.945 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:39:37.945 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:37.945 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:39:37.946 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:37.946 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:39:37.946 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:39:37.946 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:39:37.946 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:39:37.946 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:39:37.946 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:39:37.946 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:39:37.946 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:39:37.946 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:39:37.946 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:39:37.947 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:39:37.947 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:39:37.947 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:39:37.947 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:39:37.947 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:39:37.947 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:39:37.947 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:39:37.947 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:39:37.947 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:39:37.947 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:39:37.947 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:39:37.947 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:39:37.947 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:39:37.947 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:39:37.947 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:39:37.947 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:39:37.947 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:39:37.947 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:39:37.947 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:39:37.947 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:39:37.947 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:39:37.947 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:39:37.948 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:39:37.948 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:39:37.948 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:39:37.948 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:39:37.948 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:39:37.948 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:39:37.948 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:39:37.948 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:39:37.948 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:39:37.948 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:39:37.948 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:39:37.948 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:39:37.948 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:39:37.948 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:39:37.948 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:39:37.948 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:39:37.948 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:39:37.949 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:37.949 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:37.949 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:39:37.949 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:39:37.949 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:39:37.949 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:39:37.952 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:39:37.952 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:37.952 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:39:37.952 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:37.952 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:39:37.953 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:37.953 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:37.953 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:39:37.953 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:39:37.953 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:39:37.953 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:39:37.954 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:39:37.954 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:37.954 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:39:37.954 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:37.954 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:39:37.955 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:39:37.955 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:39:37.955 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:39:37.955 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:39:37.955 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:39:37.955 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:39:37.955 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 15.4921ms
2024-09-11 08:39:37.956 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:39:37.956 +07:00 [DBG] Connection id "0HN6HTPGEEQPD" completed keep alive response.
2024-09-11 08:39:37.956 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:39:37.956 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:37.956 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:39:37.956 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword= - 200 null application/json; charset=utf-8 76.9766ms
2024-09-11 08:39:39.206 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword= - null null
2024-09-11 08:39:39.206 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:39:39.207 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:39:39.207 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:39:39.207 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:39:39.207 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:39:39.207 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:39:39.207 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:39:39.208 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:39:39.208 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:39:39.208 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:39:39.208 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:39.208 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:39.209 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:39:39.209 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:39:39.209 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:39:39.209 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:39:39.210 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:39:39.210 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:39:39.210 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:39.210 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:39:39.210 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:39.210 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:39:39.210 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:39:39.210 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:39:39.210 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:39:39.210 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:39:39.211 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:39:39.211 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:39:39.211 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:39:39.211 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:39.211 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:39.211 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:39:39.211 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:39:39.211 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:39:39.211 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:39:39.212 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:39:39.212 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:39:39.212 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:39.212 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:39:39.212 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:39.212 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:39:39.213 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:39:39.213 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:39:39.213 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:39:39.213 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:39:39.213 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:39:39.213 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:39:39.213 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:39:39.213 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:39:39.213 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:39:39.213 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:39:39.213 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:39:39.213 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:39:39.213 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:39:39.213 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:39:39.213 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:39:39.213 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:39:39.214 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:39:39.214 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:39:39.214 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:39:39.214 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:39:39.214 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:39:39.214 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:39:39.214 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:39:39.214 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:39:39.214 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:39:39.214 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:39:39.214 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:39:39.214 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:39:39.214 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:39:39.214 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:39:39.214 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:39:39.214 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:39:39.214 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:39:39.214 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:39:39.214 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:39:39.214 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:39:39.214 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:39:39.214 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:39:39.214 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:39:39.214 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:39:39.214 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:39:39.214 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:39:39.214 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:39:39.214 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:39:39.215 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:39:39.215 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:39:39.215 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:39:39.215 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:39:39.215 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:39.215 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:39.215 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:39:39.215 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:39:39.215 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:39:39.215 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:39:39.216 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:39:39.216 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:39.216 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:39:39.216 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:39.216 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:39:39.217 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:39.217 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:39.217 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:39:39.217 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:39:39.217 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:39:39.217 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:39:39.218 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:39:39.219 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:39.219 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:39:39.219 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:39.219 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:39:39.219 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:39:39.219 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:39:39.219 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:39:39.219 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:39:39.219 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:39:39.219 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:39:39.219 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 8.8042ms
2024-09-11 08:39:39.219 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:39:39.220 +07:00 [DBG] Connection id "0HN6HTPGEEQPD" completed keep alive response.
2024-09-11 08:39:39.220 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:39:39.220 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:39:39.220 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:39:39.220 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword= - 200 null application/json; charset=utf-8 13.8905ms
2024-09-11 08:39:40.543 +07:00 [DBG] Connection id "0HN6HTPGEEQPD" received FIN.
2024-09-11 08:39:40.543 +07:00 [DBG] Connection id "0HN6HTPGEEQPD" disconnecting.
2024-09-11 08:39:40.543 +07:00 [DBG] Connection id "0HN6HTPGEEQPD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:39:40.545 +07:00 [DBG] Connection id "0HN6HTPGEEQPD" stopped.
2024-09-11 08:41:37.811 +07:00 [DBG] Connection id "0HN6HTPGEEQPE" accepted.
2024-09-11 08:41:37.813 +07:00 [DBG] Connection id "0HN6HTPGEEQPE" started.
2024-09-11 08:41:37.815 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword= - null null
2024-09-11 08:41:37.816 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:41:37.816 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 08:41:37.817 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:41:37.818 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:41:37.818 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:41:37.819 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:41:37.820 +07:00 [DBG] Connection id "0HN6HTPGEEQPE" completed keep alive response.
2024-09-11 08:41:37.821 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword= - 204 null null 5.637ms
2024-09-11 08:41:37.825 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword= - null null
2024-09-11 08:41:37.825 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:41:37.825 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:41:37.825 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:41:37.825 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:41:37.826 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:41:37.826 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:41:37.834 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:41:37.838 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:41:37.839 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:41:37.839 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:41:37.839 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:41:37.839 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:41:37.839 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:41:37.839 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:41:37.839 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:41:37.840 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:41:37.841 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:41:37.841 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:41:37.841 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:41:37.841 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:41:37.841 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:41:37.841 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:41:37.842 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:41:37.842 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:41:37.842 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:41:37.842 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:41:37.842 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:41:37.842 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:41:37.842 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:41:37.843 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:41:37.843 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:41:37.843 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:41:37.843 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:41:37.843 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:41:37.843 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:41:37.844 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:41:37.844 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:41:37.844 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:41:37.844 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:41:37.844 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:41:37.845 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:41:37.845 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:41:37.845 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:41:37.845 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:41:37.846 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:41:37.846 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:41:37.846 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:41:37.846 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:41:37.846 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:41:37.846 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:41:37.846 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:41:37.846 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:41:37.846 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:41:37.846 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:41:37.846 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:41:37.846 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:41:37.846 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:41:37.846 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:41:37.846 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:41:37.846 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:41:37.846 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:41:37.846 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:41:37.846 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:41:37.846 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:41:37.846 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:41:37.846 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:41:37.846 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:41:37.846 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:41:37.847 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:41:37.847 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:41:37.847 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:41:37.847 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:41:37.847 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:41:37.847 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:41:37.847 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:41:37.847 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:41:37.847 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:41:37.847 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:41:37.847 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:41:37.847 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:41:37.847 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:41:37.847 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:41:37.847 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:41:37.847 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:41:37.847 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:41:37.847 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:41:37.847 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:41:37.847 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:41:37.847 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:41:37.848 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:41:37.848 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:41:37.848 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:41:37.848 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:41:37.848 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:41:37.848 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:41:37.849 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:41:37.849 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:41:37.849 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:41:37.850 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:41:37.850 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:41:37.851 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:41:37.851 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:41:37.851 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:41:37.851 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:41:37.851 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:41:37.851 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:41:37.852 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:41:37.852 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:41:37.852 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:41:37.852 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:41:37.853 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:41:37.853 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:41:37.853 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:41:37.853 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:41:37.853 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:41:37.853 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:41:37.853 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:41:37.853 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 10.9379ms
2024-09-11 08:41:37.854 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:41:37.854 +07:00 [DBG] Connection id "0HN6HTPGEEQPE" completed keep alive response.
2024-09-11 08:41:37.854 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:41:37.854 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:41:37.854 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:41:37.855 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword= - 200 null application/json; charset=utf-8 29.7664ms
2024-09-11 08:41:40.564 +07:00 [DBG] Connection id "0HN6HTPGEEQPE" received FIN.
2024-09-11 08:41:40.564 +07:00 [DBG] Connection id "0HN6HTPGEEQPE" disconnecting.
2024-09-11 08:41:40.564 +07:00 [DBG] Connection id "0HN6HTPGEEQPE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:41:40.565 +07:00 [DBG] Connection id "0HN6HTPGEEQPE" stopped.
2024-09-11 08:42:57.331 +07:00 [DBG] Connection id "0HN6HTPGEEQPF" accepted.
2024-09-11 08:42:57.333 +07:00 [DBG] Connection id "0HN6HTPGEEQPF" started.
2024-09-11 08:42:57.334 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword= - null null
2024-09-11 08:42:57.334 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:42:57.335 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 08:42:57.337 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:42:57.355 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:42:57.355 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:42:57.356 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:42:57.356 +07:00 [DBG] Connection id "0HN6HTPGEEQPF" completed keep alive response.
2024-09-11 08:42:57.356 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword= - 204 null null 23.1251ms
2024-09-11 08:42:57.368 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword= - null null
2024-09-11 08:42:57.368 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:42:57.368 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:42:57.368 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:42:57.369 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:42:57.369 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:42:57.369 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:42:57.370 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:42:57.372 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:42:57.373 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:42:57.373 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:42:57.373 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:57.373 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:57.373 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:42:57.374 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:42:57.374 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:42:57.374 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:42:57.375 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:42:57.375 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:42:57.375 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:57.375 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:42:57.375 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:57.375 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:42:57.375 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:42:57.376 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:42:57.376 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:42:57.376 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:42:57.376 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:42:57.376 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:42:57.376 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:42:57.377 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:57.377 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:57.377 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:42:57.377 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:42:57.377 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:42:57.377 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:42:57.378 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:42:57.378 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:42:57.378 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:57.378 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:42:57.378 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:57.379 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:42:57.379 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:42:57.379 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:42:57.379 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:42:57.379 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:42:57.379 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:42:57.379 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:42:57.379 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:42:57.380 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:42:57.380 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:42:57.380 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:42:57.380 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:42:57.380 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:42:57.380 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:42:57.380 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:42:57.380 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:42:57.380 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:42:57.380 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:42:57.381 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:42:57.381 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:42:57.381 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:42:57.381 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:42:57.381 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:42:57.381 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:42:57.381 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:42:57.381 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:42:57.381 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:42:57.381 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:42:57.381 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:42:57.381 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:42:57.382 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:42:57.382 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:42:57.382 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:42:57.382 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:42:57.382 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:42:57.382 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:42:57.382 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:42:57.383 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:42:57.383 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:42:57.383 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:42:57.383 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:42:57.383 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:42:57.383 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:42:57.383 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:42:57.383 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:42:57.383 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:42:57.384 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:42:57.384 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:42:57.384 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:42:57.385 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:57.385 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:57.385 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:42:57.385 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:42:57.385 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:42:57.385 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:42:57.386 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:42:57.386 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:57.387 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:42:57.387 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:57.387 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:42:57.387 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:57.387 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:57.387 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:42:57.387 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:42:57.388 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:42:57.388 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:42:57.389 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:42:57.389 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:57.389 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:42:57.389 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:57.389 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:42:57.390 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:42:57.390 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:42:57.390 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:42:57.390 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:42:57.390 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:42:57.390 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:42:57.391 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 14.4825ms
2024-09-11 08:42:57.391 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:42:57.391 +07:00 [DBG] Connection id "0HN6HTPGEEQPF" completed keep alive response.
2024-09-11 08:42:57.391 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:42:57.391 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:57.391 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:42:57.391 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword= - 200 null application/json; charset=utf-8 23.1265ms
2024-09-11 08:42:58.879 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword= - null null
2024-09-11 08:42:58.879 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:42:58.879 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:42:58.880 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:42:58.880 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:42:58.880 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:42:58.880 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:42:58.880 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:42:58.881 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:42:58.881 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:42:58.881 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:42:58.881 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:58.881 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:58.881 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:42:58.881 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:42:58.881 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:42:58.881 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:42:58.882 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:42:58.882 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:42:58.883 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:58.883 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:42:58.883 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:58.883 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:42:58.883 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:42:58.883 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:42:58.883 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:42:58.883 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:42:58.884 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:42:58.884 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:42:58.884 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:42:58.884 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:58.884 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:58.884 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:42:58.885 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:42:58.885 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:42:58.885 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:42:58.888 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:42:58.888 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:42:58.888 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:58.888 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:42:58.902 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:58.902 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:42:58.902 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:42:58.907 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:42:58.907 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:42:58.907 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:42:58.907 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:42:58.907 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:42:58.907 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:42:58.907 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:42:58.907 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:42:58.907 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:42:58.908 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:42:58.908 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:42:58.908 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:42:58.908 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:42:58.908 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:42:58.908 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:42:58.908 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:42:58.908 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:42:58.908 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:42:58.908 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:42:58.909 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:42:58.909 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:42:58.909 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:42:58.909 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:42:58.909 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:42:58.909 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:42:58.909 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:42:58.909 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:42:58.909 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:42:58.909 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:42:58.909 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:42:58.909 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:42:58.909 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:42:58.909 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:42:58.909 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:42:58.909 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:42:58.909 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:42:58.909 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:42:58.909 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:42:58.909 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:42:58.910 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:42:58.910 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:42:58.910 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:42:58.910 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:42:58.910 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:42:58.911 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:42:58.911 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:42:58.911 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:42:58.914 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:58.914 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:58.914 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:42:58.914 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:42:58.914 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:42:58.915 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:42:58.915 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
2024-09-11 08:42:58.915 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:58.915 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:42:58.915 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:58.915 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:42:58.916 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:58.919 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:58.920 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:42:58.927 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-11 08:42:58.927 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-11 08:42:58.928 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:42:58.946 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
ORDER BY m.user_id
LIMIT @__p_1 OFFSET @__p_0
2024-09-11 08:42:58.946 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:58.946 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:42:58.946 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:58.946 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:42:58.946 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:42:58.946 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:42:58.946 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:42:58.947 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:42:58.947 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:42:58.947 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:42:58.948 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 63.8005ms
2024-09-11 08:42:58.948 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:42:58.949 +07:00 [DBG] Connection id "0HN6HTPGEEQPF" completed keep alive response.
2024-09-11 08:42:58.950 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:42:58.950 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:42:58.950 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:42:58.952 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword= - 200 null application/json; charset=utf-8 72.478ms
2024-09-11 08:43:00.581 +07:00 [DBG] Connection id "0HN6HTPGEEQPF" received FIN.
2024-09-11 08:43:00.582 +07:00 [DBG] Connection id "0HN6HTPGEEQPF" disconnecting.
2024-09-11 08:43:00.582 +07:00 [DBG] Connection id "0HN6HTPGEEQPF" stopped.
2024-09-11 08:43:00.582 +07:00 [DBG] Connection id "0HN6HTPGEEQPF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:43:02.901 +07:00 [DBG] Connection id "0HN6HTPGEEQPG" accepted.
2024-09-11 08:43:02.901 +07:00 [DBG] Connection id "0HN6HTPGEEQPG" started.
2024-09-11 08:43:02.901 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword=test - null null
2024-09-11 08:43:02.901 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:43:02.902 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 08:43:02.902 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:43:02.902 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:43:02.902 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:43:02.902 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:43:02.902 +07:00 [DBG] Connection id "0HN6HTPGEEQPG" completed keep alive response.
2024-09-11 08:43:02.902 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword=test - 204 null null 0.7324ms
2024-09-11 08:43:02.905 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword=test - null null
2024-09-11 08:43:02.905 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:43:02.905 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:43:02.905 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:43:02.906 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:43:02.906 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:43:02.906 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:43:02.906 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:43:02.907 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:43:02.908 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:43:02.908 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:43:02.908 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:02.909 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:02.909 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:43:02.909 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:02.909 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:02.909 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:43:02.910 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:43:02.910 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:43:02.910 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:02.911 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:43:02.911 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:02.911 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:43:02.911 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:43:02.911 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:43:02.911 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:43:02.911 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:43:02.912 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:43:02.912 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:43:02.912 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:43:02.913 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:02.913 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:02.913 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:43:02.913 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:02.913 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:02.913 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:43:02.914 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:43:02.914 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:43:02.915 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:02.915 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:43:02.915 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:02.915 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:43:02.915 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:43:02.915 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:43:02.915 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:43:02.915 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:43:02.915 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:43:02.915 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:43:02.916 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:43:02.916 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:43:02.916 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:43:02.916 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:43:02.916 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:43:02.916 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:43:02.916 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:43:02.916 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:43:02.916 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:43:02.916 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:43:02.916 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:43:02.917 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:43:02.917 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:43:02.917 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:43:02.917 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:43:02.917 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:43:02.917 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:43:02.917 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:43:02.918 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:43:02.918 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:43:02.918 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:43:02.918 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:43:02.918 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:43:02.918 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:43:02.918 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:43:02.918 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:43:02.918 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:43:02.918 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:43:02.918 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:43:02.918 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:43:02.918 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:43:02.918 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:43:02.918 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:43:02.919 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:43:02.919 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:43:02.919 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:43:02.919 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:43:02.919 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:43:02.919 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:43:02.919 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:43:02.919 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:43:02.919 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:43:02.920 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:02.920 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:02.920 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:43:02.920 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:02.920 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:02.920 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0_rewritten='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
2024-09-11 08:43:02.922 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0_rewritten='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
2024-09-11 08:43:02.922 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:02.922 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:43:02.923 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:02.923 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:43:02.923 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:02.923 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:02.923 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:43:02.923 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:02.924 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:02.924 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0_rewritten='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
ORDER BY m.user_id
LIMIT @__p_2 OFFSET @__p_1
2024-09-11 08:43:02.925 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0_rewritten='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
ORDER BY m.user_id
LIMIT @__p_2 OFFSET @__p_1
2024-09-11 08:43:02.925 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:02.925 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:43:02.925 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:02.925 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:43:02.925 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:43:02.925 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:43:02.925 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:43:02.925 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:43:02.925 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:43:02.925 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:43:02.925 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 13.4879ms
2024-09-11 08:43:02.926 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:43:02.926 +07:00 [DBG] Connection id "0HN6HTPGEEQPG" completed keep alive response.
2024-09-11 08:43:02.926 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:43:02.926 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:02.926 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:43:02.926 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword=test - 200 null application/json; charset=utf-8 21.5183ms
2024-09-11 08:43:04.934 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword=t - null null
2024-09-11 08:43:04.935 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:43:04.935 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 08:43:04.935 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:43:04.935 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:43:04.935 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:43:04.935 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:43:04.935 +07:00 [DBG] Connection id "0HN6HTPGEEQPG" completed keep alive response.
2024-09-11 08:43:04.935 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword=t - 204 null null 1.1788ms
2024-09-11 08:43:04.938 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword=t - null null
2024-09-11 08:43:04.938 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:43:04.938 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:43:04.938 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:43:04.938 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:43:04.938 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:43:04.938 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:43:04.939 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:43:04.940 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:43:04.941 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:43:04.941 +07:00 [DBG] Created DbConnection. (1ms).
2024-09-11 08:43:04.942 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:04.942 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:04.943 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:43:04.943 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:04.943 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:04.943 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:43:04.957 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:43:04.958 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:43:04.959 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:04.959 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2024-09-11 08:43:04.959 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:04.959 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:43:04.959 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:43:04.959 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:43:04.960 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:43:04.960 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:43:04.960 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:43:04.960 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:43:04.962 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:43:04.963 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:04.963 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:04.963 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:43:04.963 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:04.963 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:04.963 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:43:04.964 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:43:04.964 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:43:04.964 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:04.964 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:43:04.964 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:04.964 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:43:04.964 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:43:04.964 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:43:04.965 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:43:04.965 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:43:04.965 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:43:04.965 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:43:04.965 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:43:04.965 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:43:04.965 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:43:04.965 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:43:04.965 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:43:04.965 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:43:04.965 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:43:04.965 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:43:04.965 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:43:04.965 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:43:04.965 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:43:04.965 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:43:04.965 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:43:04.965 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:43:04.965 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:43:04.965 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:43:04.965 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:43:04.965 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:43:04.966 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:43:04.966 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:43:04.966 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:43:04.966 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:43:04.966 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:43:04.966 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:43:04.966 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:43:04.966 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:43:04.966 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:43:04.966 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:43:04.966 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:43:04.966 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:43:04.966 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:43:04.966 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:43:04.966 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:43:04.966 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:43:04.966 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:43:04.966 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:43:04.966 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:43:04.966 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:43:04.966 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:43:04.966 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:43:04.966 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:43:04.967 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:43:04.967 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:04.967 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:04.967 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:43:04.967 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:04.967 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:04.968 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0_rewritten='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
2024-09-11 08:43:04.969 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0_rewritten='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
2024-09-11 08:43:04.969 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:04.969 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:43:04.970 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:04.970 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:43:04.970 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:04.970 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:04.970 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:43:04.970 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:04.970 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:04.970 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0_rewritten='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
ORDER BY m.user_id
LIMIT @__p_2 OFFSET @__p_1
2024-09-11 08:43:04.971 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0_rewritten='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
ORDER BY m.user_id
LIMIT @__p_2 OFFSET @__p_1
2024-09-11 08:43:04.971 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:04.972 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:43:04.972 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:04.972 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:43:04.972 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:43:04.972 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:43:04.972 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:43:04.972 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:43:04.972 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:43:04.972 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:43:04.972 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 10.01ms
2024-09-11 08:43:04.973 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:43:04.973 +07:00 [DBG] Connection id "0HN6HTPGEEQPG" completed keep alive response.
2024-09-11 08:43:04.973 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:43:04.974 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:04.974 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:43:04.974 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword=t - 200 null application/json; charset=utf-8 36.4762ms
2024-09-11 08:43:05.581 +07:00 [DBG] Connection id "0HN6HTPGEEQPG" received FIN.
2024-09-11 08:43:05.581 +07:00 [DBG] Connection id "0HN6HTPGEEQPG" disconnecting.
2024-09-11 08:43:05.581 +07:00 [DBG] Connection id "0HN6HTPGEEQPG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:43:05.582 +07:00 [DBG] Connection id "0HN6HTPGEEQPG" stopped.
2024-09-11 08:43:11.289 +07:00 [DBG] Connection id "0HN6HTPGEEQPH" accepted.
2024-09-11 08:43:11.289 +07:00 [DBG] Connection id "0HN6HTPGEEQPH" started.
2024-09-11 08:43:11.289 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword=te - null null
2024-09-11 08:43:11.290 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:43:11.290 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 08:43:11.290 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:43:11.290 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:43:11.290 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:43:11.290 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:43:11.290 +07:00 [DBG] Connection id "0HN6HTPGEEQPH" completed keep alive response.
2024-09-11 08:43:11.290 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword=te - 204 null null 0.6359ms
2024-09-11 08:43:11.292 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword=te - null null
2024-09-11 08:43:11.292 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:43:11.292 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:43:11.293 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:43:11.293 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:43:11.293 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:43:11.293 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:43:11.293 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:43:11.294 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:43:11.295 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:43:11.295 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:43:11.295 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:11.295 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:11.296 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:43:11.296 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:11.296 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:11.296 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:43:11.296 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:43:11.297 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:43:11.297 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:11.297 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:43:11.297 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:11.297 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:43:11.297 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:43:11.297 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:43:11.297 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:43:11.297 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:43:11.297 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:43:11.298 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:43:11.298 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:43:11.298 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:11.298 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:11.298 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:43:11.298 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:11.298 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:11.299 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:43:11.299 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:43:11.300 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:43:11.300 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:11.300 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:43:11.300 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:11.300 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:43:11.300 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:43:11.300 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:43:11.300 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:43:11.300 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:43:11.300 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:43:11.300 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:43:11.300 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:43:11.300 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:43:11.300 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:43:11.300 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:43:11.300 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:43:11.301 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:43:11.301 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:43:11.301 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:43:11.301 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:43:11.301 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:43:11.301 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:43:11.301 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:43:11.301 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:43:11.301 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:43:11.301 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:43:11.301 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:43:11.301 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:43:11.301 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:43:11.301 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:43:11.301 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:43:11.301 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:43:11.301 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:43:11.301 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:43:11.301 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:43:11.301 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:43:11.301 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:43:11.301 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:43:11.301 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:43:11.302 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:43:11.302 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:43:11.302 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:43:11.302 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:43:11.302 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:43:11.302 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:43:11.302 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:43:11.302 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:43:11.302 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:43:11.302 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:43:11.302 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:43:11.302 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:43:11.302 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:43:11.302 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:43:11.302 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:11.303 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:11.303 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:43:11.303 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:11.303 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:11.303 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0_rewritten='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
2024-09-11 08:43:11.303 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0_rewritten='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
2024-09-11 08:43:11.303 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:11.304 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:43:11.305 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:11.305 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:43:11.305 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:11.305 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:11.305 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:43:11.305 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:11.305 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:43:11.306 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0_rewritten='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
ORDER BY m.user_id
LIMIT @__p_2 OFFSET @__p_1
2024-09-11 08:43:11.306 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0_rewritten='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
ORDER BY m.user_id
LIMIT @__p_2 OFFSET @__p_1
2024-09-11 08:43:11.306 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:11.307 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:43:11.307 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:11.307 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:43:11.307 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:43:11.307 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:43:11.307 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:43:11.307 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:43:11.307 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:43:11.307 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:43:11.307 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 9.3607ms
2024-09-11 08:43:11.307 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:43:11.307 +07:00 [DBG] Connection id "0HN6HTPGEEQPH" completed keep alive response.
2024-09-11 08:43:11.307 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:43:11.307 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:43:11.307 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:43:11.307 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword=te - 200 null application/json; charset=utf-8 15.5782ms
2024-09-11 08:43:15.582 +07:00 [DBG] Connection id "0HN6HTPGEEQPH" received FIN.
2024-09-11 08:43:15.582 +07:00 [DBG] Connection id "0HN6HTPGEEQPH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:43:15.583 +07:00 [DBG] Connection id "0HN6HTPGEEQPH" disconnecting.
2024-09-11 08:43:15.583 +07:00 [DBG] Connection id "0HN6HTPGEEQPH" stopped.
2024-09-11 08:52:05.728 +07:00 [DBG] Connection id "0HN6HTPGEEQPI" accepted.
2024-09-11 08:52:05.730 +07:00 [DBG] Connection id "0HN6HTPGEEQPI" started.
2024-09-11 08:52:05.731 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword=hello - null null
2024-09-11 08:52:05.731 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:52:05.731 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 08:52:05.732 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:52:05.732 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:52:05.733 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:52:05.733 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:52:05.733 +07:00 [DBG] Connection id "0HN6HTPGEEQPI" completed keep alive response.
2024-09-11 08:52:05.733 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword=hello - 204 null null 2.4217ms
2024-09-11 08:52:05.736 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword=hello - null null
2024-09-11 08:52:05.736 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:52:05.737 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:52:05.737 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:52:05.737 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:52:05.737 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:52:05.737 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:52:05.738 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:52:05.741 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:52:05.742 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:52:05.743 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:52:05.743 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:05.750 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:05.751 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:52:05.751 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:52:05.751 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:52:05.752 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:52:05.753 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:52:05.754 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:52:05.754 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:05.754 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:52:05.754 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:05.754 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:52:05.754 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:52:05.755 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:52:05.755 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:52:05.755 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:52:05.756 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:52:05.756 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:52:05.756 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:52:05.758 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:05.758 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:05.758 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:52:05.758 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:52:05.758 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:52:05.758 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:52:05.759 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:52:05.759 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:52:05.759 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:05.759 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:52:05.759 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:05.759 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:52:05.760 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:52:05.760 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:52:05.760 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:52:05.760 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:52:05.760 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:52:05.760 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:52:05.760 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:52:05.760 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:52:05.761 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:52:05.761 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:52:05.761 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:52:05.761 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:52:05.761 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:52:05.761 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:52:05.761 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:52:05.761 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:52:05.761 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:52:05.761 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:52:05.761 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:52:05.761 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:52:05.761 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:52:05.761 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:52:05.762 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:52:05.762 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:52:05.762 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:52:05.762 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:52:05.762 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:52:05.762 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:52:05.762 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:52:05.762 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:52:05.762 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:52:05.762 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:52:05.762 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:52:05.762 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:52:05.762 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:52:05.762 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:52:05.762 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:52:05.762 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:52:05.762 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:52:05.762 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:52:05.762 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:52:05.763 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:52:05.763 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:52:05.763 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:52:05.763 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:52:05.763 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:52:05.763 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:52:05.763 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:52:05.764 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:05.764 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:05.764 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:52:05.764 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:52:05.764 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:52:05.764 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0_rewritten='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
2024-09-11 08:52:05.777 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__ToLower_0_rewritten='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
2024-09-11 08:52:05.777 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:05.777 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:52:05.777 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:05.777 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:52:05.778 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:05.778 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:05.778 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:52:05.778 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:52:05.778 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:52:05.778 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0_rewritten='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
ORDER BY m.user_id
LIMIT @__p_2 OFFSET @__p_1
2024-09-11 08:52:05.779 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0_rewritten='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
ORDER BY m.user_id
LIMIT @__p_2 OFFSET @__p_1
2024-09-11 08:52:05.779 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:05.779 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:52:05.779 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:05.780 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:52:05.780 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:52:05.780 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:52:05.780 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:52:05.780 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:52:05.780 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:52:05.780 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:52:05.780 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 24.1421ms
2024-09-11 08:52:05.781 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:52:05.781 +07:00 [DBG] Connection id "0HN6HTPGEEQPI" completed keep alive response.
2024-09-11 08:52:05.781 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:52:05.781 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:05.781 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:52:05.781 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword=hello - 200 null application/json; charset=utf-8 44.8948ms
2024-09-11 08:52:07.932 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword=h - null null
2024-09-11 08:52:07.934 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:52:07.934 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-11 08:52:07.935 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:52:07.935 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:52:07.935 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:52:07.935 +07:00 [DBG] The request is a preflight request.
2024-09-11 08:52:07.936 +07:00 [DBG] Connection id "0HN6HTPGEEQPI" completed keep alive response.
2024-09-11 08:52:07.936 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5245/User?page=1&pageSize=10&keyword=h - 204 null null 3.494ms
2024-09-11 08:52:07.947 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword=h - null null
2024-09-11 08:52:07.947 +07:00 [DBG] 1 candidate(s) found for the request path '/User'
2024-09-11 08:52:07.948 +07:00 [DBG] Endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)' with route pattern 'User' is valid for the request path '/User'
2024-09-11 08:52:07.948 +07:00 [DBG] Request matched endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:52:07.948 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-11 08:52:07.948 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-09-11 08:52:07.948 +07:00 [INF] CORS policy execution successful.
2024-09-11 08:52:07.949 +07:00 [INF] eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE3MTc0MDg4MDAsImV4cCI6MjAzMjk0MTYwMCwiaWF0IjoxNzE3NDA4ODAwfQ.pl2_706bAmaNlqN71dU_mfkwhqTPhP3lFcIVBcN40YE
2024-09-11 08:52:07.949 +07:00 [DBG] Entity Framework Core 8.0.1 initialized 'BaseDotnetDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2024-09-11 08:52:07.950 +07:00 [DBG] Creating DbConnection.
2024-09-11 08:52:07.950 +07:00 [DBG] Created DbConnection. (0ms).
2024-09-11 08:52:07.951 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:07.951 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:07.951 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:52:07.951 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:52:07.951 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:52:07.952 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:52:07.953 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id, m.created_date, m.display_name, m.email, m.last_login, m.password, m.role_id, m.salt, m.status, m.username
FROM master.mst_users AS m
WHERE m.user_id = @__id_0
LIMIT 2
2024-09-11 08:52:07.954 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:52:07.954 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:07.954 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:52:07.954 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:07.954 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:52:07.954 +07:00 [INF] Executing endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:52:07.954 +07:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Int32], Int32, System.String, Int32) on controller BaseDotnet.Controllers.UserController (BaseDotnet).
2024-09-11 08:52:07.954 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["BaseDotnet.Helpers.AuthorizeAttribute"]
2024-09-11 08:52:07.954 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-11 08:52:07.954 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-11 08:52:07.955 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-11 08:52:07.955 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-11 08:52:07.955 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:07.956 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:07.956 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:52:07.956 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:52:07.956 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:52:07.956 +07:00 [DBG] Executing DbCommand [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:52:07.957 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32), @__ToString_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m.page_code, m.action, m.role_id
FROM master.mst_role_page_access AS m
WHERE m.role_id = @__roleId_0 AND m.page_code = @__ToString_1
LIMIT 2
2024-09-11 08:52:07.957 +07:00 [DBG] Context 'BaseDotnetDbContext' started tracking 'RolePageAccess' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-11 08:52:07.957 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:07.957 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:52:07.957 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:07.958 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:52:07.958 +07:00 [DBG] Executing controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:52:07.958 +07:00 [DBG] Executed controller factory for controller BaseDotnet.Controllers.UserController (BaseDotnet)
2024-09-11 08:52:07.958 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' ...
2024-09-11 08:52:07.958 +07:00 [DBG] Attempting to bind parameter 'keyword' of type 'System.String' using the name 'keyword' in request data ...
2024-09-11 08:52:07.958 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:52:07.958 +07:00 [DBG] Done attempting to bind parameter 'keyword' of type 'System.String'.
2024-09-11 08:52:07.958 +07:00 [DBG] Attempting to validate the bound parameter 'keyword' of type 'System.String' ...
2024-09-11 08:52:07.958 +07:00 [DBG] Done attempting to validate the bound parameter 'keyword' of type 'System.String'.
2024-09-11 08:52:07.958 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:52:07.958 +07:00 [DBG] Attempting to bind parameter 'orderBy' of type 'System.String' using the name 'orderBy' in request data ...
2024-09-11 08:52:07.958 +07:00 [DBG] Could not find a value in the request with name 'orderBy' for binding parameter 'orderBy' of type 'System.String'.
2024-09-11 08:52:07.958 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:52:07.958 +07:00 [DBG] Done attempting to bind parameter 'orderBy' of type 'System.String'.
2024-09-11 08:52:07.958 +07:00 [DBG] Attempting to validate the bound parameter 'orderBy' of type 'System.String' ...
2024-09-11 08:52:07.958 +07:00 [DBG] Done attempting to validate the bound parameter 'orderBy' of type 'System.String'.
2024-09-11 08:52:07.959 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' ...
2024-09-11 08:52:07.959 +07:00 [DBG] Attempting to bind parameter 'orderType' of type 'System.String' using the name 'orderType' in request data ...
2024-09-11 08:52:07.959 +07:00 [DBG] Could not find a value in the request with name 'orderType' for binding parameter 'orderType' of type 'System.String'.
2024-09-11 08:52:07.959 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:52:07.959 +07:00 [DBG] Done attempting to bind parameter 'orderType' of type 'System.String'.
2024-09-11 08:52:07.959 +07:00 [DBG] Attempting to validate the bound parameter 'orderType' of type 'System.String' ...
2024-09-11 08:52:07.959 +07:00 [DBG] Done attempting to validate the bound parameter 'orderType' of type 'System.String'.
2024-09-11 08:52:07.959 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:52:07.959 +07:00 [DBG] Attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]' using the name 'role' in request data ...
2024-09-11 08:52:07.959 +07:00 [DBG] Could not find a value in the request with name 'role' for binding parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:52:07.959 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:52:07.960 +07:00 [DBG] Done attempting to bind parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:52:07.960 +07:00 [DBG] Attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]' ...
2024-09-11 08:52:07.960 +07:00 [DBG] Done attempting to validate the bound parameter 'role' of type 'System.Nullable`1[System.Int32]'.
2024-09-11 08:52:07.960 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' ...
2024-09-11 08:52:07.960 +07:00 [DBG] Attempting to bind parameter 'page' of type 'System.Int32' using the name 'page' in request data ...
2024-09-11 08:52:07.960 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:52:07.960 +07:00 [DBG] Done attempting to bind parameter 'page' of type 'System.Int32'.
2024-09-11 08:52:07.961 +07:00 [DBG] Attempting to validate the bound parameter 'page' of type 'System.Int32' ...
2024-09-11 08:52:07.961 +07:00 [DBG] Done attempting to validate the bound parameter 'page' of type 'System.Int32'.
2024-09-11 08:52:07.961 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' ...
2024-09-11 08:52:07.961 +07:00 [DBG] Attempting to bind parameter 'status' of type 'System.String' using the name 'status' in request data ...
2024-09-11 08:52:07.961 +07:00 [DBG] Could not find a value in the request with name 'status' for binding parameter 'status' of type 'System.String'.
2024-09-11 08:52:07.961 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:52:07.961 +07:00 [DBG] Done attempting to bind parameter 'status' of type 'System.String'.
2024-09-11 08:52:07.961 +07:00 [DBG] Attempting to validate the bound parameter 'status' of type 'System.String' ...
2024-09-11 08:52:07.961 +07:00 [DBG] Done attempting to validate the bound parameter 'status' of type 'System.String'.
2024-09-11 08:52:07.961 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:52:07.961 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-11 08:52:07.962 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:52:07.962 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:52:07.962 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-11 08:52:07.962 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-11 08:52:07.962 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:07.962 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:07.962 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:52:07.962 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:52:07.962 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:52:07.962 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0_rewritten='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
2024-09-11 08:52:07.963 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0_rewritten='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
2024-09-11 08:52:07.963 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:07.963 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:52:07.963 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:07.963 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:52:07.964 +07:00 [DBG] Opening connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:07.964 +07:00 [DBG] Opened connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:07.964 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-11 08:52:07.964 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:52:07.964 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-11 08:52:07.964 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0_rewritten='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
ORDER BY m.user_id
LIMIT @__p_2 OFFSET @__p_1
2024-09-11 08:52:07.964 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0_rewritten='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m.user_id AS "UserID", m.username AS "UserName", m.display_name AS "DisplayName", m.email AS "Email", m.status AS "Status", m.last_login AS "LastLogin", m.created_date AS "CreatedDate", m.role_id AS "RoleID", m0.role_name AS "RoleName"
FROM master.mst_users AS m
LEFT JOIN master.mst_role AS m0 ON m.role_id = m0.role_id
WHERE lower(m.email) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.username) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.status) LIKE @__ToLower_0_rewritten ESCAPE '\' OR lower(m.display_name) LIKE @__ToLower_0_rewritten ESCAPE '\'
ORDER BY m.user_id
LIMIT @__p_2 OFFSET @__p_1
2024-09-11 08:52:07.965 +07:00 [DBG] Closing data reader to 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:07.965 +07:00 [DBG] A data reader for 'my_app' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-11 08:52:07.965 +07:00 [DBG] Closing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:07.965 +07:00 [DBG] Closed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:52:07.965 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-11 08:52:07.966 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-11 08:52:07.966 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-11 08:52:07.966 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-11 08:52:07.966 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-11 08:52:07.966 +07:00 [INF] Executing OkObjectResult, writing value of type 'BaseDotnet.Models.PagedResult`1[[BaseDotnet.Entities.User, BaseDotnet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-11 08:52:07.966 +07:00 [INF] Executed action BaseDotnet.Controllers.UserController.GetAll (BaseDotnet) in 11.2122ms
2024-09-11 08:52:07.966 +07:00 [INF] Executed endpoint 'BaseDotnet.Controllers.UserController.GetAll (BaseDotnet)'
2024-09-11 08:52:07.966 +07:00 [DBG] Connection id "0HN6HTPGEEQPI" completed keep alive response.
2024-09-11 08:52:07.967 +07:00 [DBG] 'BaseDotnetDbContext' disposed.
2024-09-11 08:52:07.967 +07:00 [DBG] Disposing connection to database 'my_app' on server 'tcp://localhost:5432'.
2024-09-11 08:52:07.967 +07:00 [DBG] Disposed connection to database 'my_app' on server 'tcp://localhost:5432' (0ms).
2024-09-11 08:52:07.967 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5245/User?page=1&pageSize=10&keyword=h - 200 null application/json; charset=utf-8 20.0936ms
2024-09-11 08:52:10.737 +07:00 [DBG] Connection id "0HN6HTPGEEQPI" received FIN.
2024-09-11 08:52:10.737 +07:00 [DBG] Connection id "0HN6HTPGEEQPI" disconnecting.
2024-09-11 08:52:10.737 +07:00 [DBG] Connection id "0HN6HTPGEEQPI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-11 08:52:10.739 +07:00 [DBG] Connection id "0HN6HTPGEEQPI" stopped.
2024-09-11 19:04:14.121 +07:00 [INF] Application is shutting down...
2024-09-11 19:04:14.126 +07:00 [DBG] Hosting stopping
2024-09-11 19:04:14.144 +07:00 [DBG] Hosting stopped
